"use strict";(self.webpackChunklexy_editor=self.webpackChunklexy_editor||[]).push([[920],{920(e,n,t){t.r(n),t.d(n,{default:()=>vt});var r,i,l=t(57528),s=t(65043),o=t(61596),a=t(766),c=t(34535),u=t(11906),d=t(44951),x=t(39580),m=t(35721),f=t(30681),g=t(38968),h=t(2050),A=t(48734),p=t(42692),j=t(692),y=t(28400),v=t(14571),b=t(81637),N=t(7353),C=t(74542),F=t(70579);const S=(0,c.Ay)(g.A)(r||(r=(0,l.A)(["\n  padding: 0;\n"]))),P=(0,c.Ay)(h.A)(i||(i=(0,l.A)(["\n  padding: 0;\n  min-width: 30px\n"])));function T(e){const{folder:n,currentFile:t,indent:r,setCurrentFile:i,parent:l}=e,s=[...l,n.name],{projectFilesTreeState:o,setProjectFilesTreeState:a}=(0,x.NT)(),c=o.isOpen(s);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(f.Ay,{disablePadding:!0,children:(0,F.jsxs)(S,{style:r>0?{marginLeft:16*r+"px"}:{},children:[(0,F.jsx)(P,{onClick:()=>{return e=!c,a(o.setOpen(s,e));var e},children:c?(0,F.jsx)(j.A,{fontSize:"small"}):(0,F.jsx)(p.A,{fontSize:"small"})}),(0,F.jsx)(P,{children:(0,F.jsx)(y.A,{fontSize:"small"})}),(0,F.jsx)(A.A,{primary:n.name})]})}),c&&n.folders?n.folders.map(e=>(0,F.jsx)(T,{folder:e,indent:r+1,currentFile:t,setCurrentFile:i,parent:s},e.name)):[],c&&n.files?n.files.map(e=>(0,F.jsx)(w,{file:e,indent:r+1,currentFile:t,setCurrentFile:i},e.name)):[]]})}function w(e){const{file:n,currentFile:t,indent:r,setCurrentFile:i}=e;return(0,F.jsx)(f.Ay,{disablePadding:!0,onClick:()=>i(n),style:t===n?{background:"#EEE"}:{},children:(0,F.jsxs)(S,{style:r>0?{paddingLeft:30+16*r+"px"}:{},children:[(0,F.jsx)(P,{children:(0,F.jsx)(v.A,{fontSize:"small"})}),(0,F.jsx)(A.A,{primary:n.name})]})})}const E=function(){const{projectFiles:e,currentFile:n,setCurrentFile:t}=(0,x.NT)();return(0,F.jsx)(m.A,{disablePadding:!0,children:null===e?(0,F.jsx)(N.A,{children:"No project loaded."}):(0,C.VP)(e)?(0,F.jsx)(b.A,{}):(0,F.jsx)(T,{folder:e,indent:0,currentFile:n,setCurrentFile:t,parent:[]})})};var L,z,V=t(42577),k=t(85225),M=t(25770),B=t(39681),O=t(18124),J=t(54175),D=t(7967),W=t(17548),I=t(99462),R=t(79574),U=t(50307),G=t(97585),_=t(15459),q=t(10673),$=t(14865),H=t(84593);const K=(0,c.Ay)(g.A)(L||(L=(0,l.A)(["\n  padding: 0;\n"]))),Q=(0,c.Ay)(h.A)(z||(z=(0,l.A)(["\n  padding: 0;\n  min-width: 30px\n"])));function X(e){function n(e){a({lineNumber:r.reference.lineNumber,column:r.reference.characterNumber,source:"state"}),c(e=>e.setMainContainer(d.J3.Source)),y(r),"contextmenu"===e.type&&(N(e.currentTarget),e.preventDefault())}function t(){N(null)}const{node:r,indent:i,parent:l}=e,o=[...l,r.name],{setEditorPosition:a,setLayout:c,structureTreeState:u,setStructureTreeState:m,currentStructureNode:g,setCurrentStructureNode:y}=(0,x.NT)(),v=u.isOpen(o),[b,N]=s.useState(null),C=Boolean(b),S=r.nodeType!==_.NodeType.Function?[]:[(0,F.jsxs)(q.A,{onClick:()=>{t()},children:[(0,F.jsx)(h.A,{children:(0,F.jsx)(H.A,{fontSize:"small"})}),(0,F.jsx)(A.A,{children:"Execute"})]},"execute")],P=function(){const e=[];if(v&&r.children)for(let n=0;n<r.children.length;n++){const t=r.children[n];t&&e.push((0,F.jsx)(X,{node:t,indent:i+1,parent:o},t.name))}return e}();return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(f.Ay,{disablePadding:!0,onClick:n,onContextMenu:n,style:g===r?{background:"#EEE"}:{},children:(0,F.jsxs)(K,{onClick:()=>{return e=!v,m(u.setOpen(o,e));var e},style:i>0?{paddingLeft:16*i+"px"}:{},children:[(0,F.jsx)(Q,{children:0===r.children.length?(0,F.jsx)(F.Fragment,{}):v?(0,F.jsx)(j.A,{fontSize:"small"}):(0,F.jsx)(p.A,{fontSize:"small"})}),(0,F.jsx)(Q,{children:function(e){switch(e){case V.d.Code:case V.d.Function:return(0,F.jsx)(k.A,{fontSize:"small"});case V.d.Scenario:return(0,F.jsx)(M.A,{fontSize:"small"});case V.d.Table:return(0,F.jsx)(B.A,{fontSize:"small"});case V.d.Results:case V.d.Parameters:case V.d.Type:return(0,F.jsx)(O.A,{fontSize:"small"});case V.d.Enum:return(0,F.jsx)(J.A,{fontSize:"small"});case V.d.Date:return(0,F.jsx)(D.A,{fontSize:"small"});case V.d.Errors:return(0,F.jsx)(W.A,{fontSize:"small"});case V.d.EnumMember:case V.d.Number:return(0,F.jsx)(I.A,{fontSize:"small"});case V.d.Boolean:return(0,F.jsx)(R.A,{});case V.d.String:return(0,F.jsx)(U.A,{fontSize:"small"});case V.d.Unknown:default:return(0,F.jsx)(G.A,{fontSize:"small"})}}(r.kind)}),(0,F.jsx)(A.A,{primary:r.name})]})}),P,(0,F.jsx)($.A,{anchorEl:b,open:S.length>0&&C,onClose:t,MenuListProps:{"aria-labelledby":"basic-button"},children:S})]})}const Y=function(){const{structure:e}=(0,x.NT)();return(0,F.jsx)(m.A,{disablePadding:!0,children:function(){if(null===e)return(0,F.jsx)(N.A,{children:"No structure."});if((0,C.VP)(e))return(0,F.jsx)(b.A,{});const n=[];for(let t=0;t<e.length;t++){const r=e[t];null!==r&&n.push((0,F.jsx)(X,{node:r,indent:0,parent:[]},t))}return n}()})};var Z=t(77158),ee=(t(83347),t(45014));const ne=" ".charCodeAt(0);function te(){const e=(0,Z.dJ)(),n=(0,s.useRef)(null),{currentFileCode:t,setCurrentFileCode:r,setCurrentProject:i,currentFileLogging:l,editorPosition:o,setEditorPosition:a}=(0,x.NT)(),[c,u]=(0,s.useState)(!1);function d(){var r;if(!n.current)return;if(null===l||(0,C.VP)(l)||null===e)return;if(null===t||(0,C.VP)(t))return;const i=null===(r=n.current)||void 0===r?void 0:r.getModel();if(null===i)return;const s=(0,ee.where)(l,e=>e.isError&&t.name===e.reference.file.fileName).map(n=>{const t=n.reference.lineNumber>0&&n.reference.lineNumber<=i.getLineCount()?i.getLineContent(n.reference.lineNumber):null,r=t?function(e,n){for(let t=n+1;t<e.length;t++)if(e.charCodeAt(t)===ne)return t;return e.length}(t,n.reference.characterNumber):1;return{message:n.message,severity:e.MarkerSeverity.Error,startLineNumber:n.reference.lineNumber,startColumn:n.reference.characterNumber,endLineNumber:n.reference.lineNumber,endColumn:r+1}});e.editor.setModelMarkers(i,"owner",s)}if((0,s.useEffect)(function(){e&&e.languages.register({id:"lexy"})},[e]),(0,s.useEffect)(function(){var e,t,r;n.current&&null!==o&&"editor"!==o.source&&(null===(e=n.current)||void 0===e||e.setPosition({lineNumber:o.lineNumber,column:o.column}),null===(t=n.current)||void 0===t||t.revealLineInCenter(o.lineNumber),null===(r=n.current)||void 0===r||r.focus())},[o]),(0,s.useEffect)(function(){var e,r;null===n.current||null===t||(0,C.VP)(t)||"editor"===t.source||(null===(e=n.current)||void 0===e||e.setValue(t.code),null===(r=n.current)||void 0===r||r.revealLine(1))},[t]),(0,s.useEffect)(d,[l,e,t]),(0,s.useEffect)(function(){var e,r;n.current&&null!==t&&!(0,C.VP)(t)&&(null===(e=n.current)||void 0===e||e.setValue(t.code),null===(r=n.current)||void 0===r||r.revealLine(1),d())},[c]),!t)return(0,F.jsx)(N.A,{children:"No file selected"});if((0,C.VP)(t))return(0,F.jsx)(b.A,{});const m=null!==t&&void 0!==t&&t.identifier.endsWith("lexy")?"yaml":void 0;return(0,F.jsx)(Z.Ay,{language:m,theme:"lexy-theme",onChange:function(e,n){if(!e)return;if(!t||(0,C.VP)(t))return;if(t.code===e)return;let l={name:t.name,identifier:t.identifier,code:e,source:"editor"};r(l),i(n=>n.setFile(l.identifier,e))},onMount:function(e){var t,r;n.current=e,null===(t=n.current)||void 0===t||t.updateOptions({scrollbar:{horizontal:"hidden"}}),u(!0),e.onDidChangeCursorPosition(e=>{a({lineNumber:e.position.lineNumber,column:e.position.column,source:"editor"})});const i=null===(r=n.current)||void 0===r?void 0:r.getModel();null!==i&&i.updateOptions({tabSize:2,indentSize:2})},options:{scrollbar:{horizontal:"hidden"},minimap:{enabled:!1},wordWrap:"on"}})}var re,ie,le,se,oe=t(69413),ae=t(53193),ce=t(79190),ue=t(69285),de=t(97866),xe=t(67784),me=t(74605),fe=t(23217),ge=t(27449),he=t(88310),Ae=t(82140),pe=t(1267),je=t(58390),ye=t(36339),ve=t(35284),be=t(31200),Ne=t(88714),Ce=t(88911),Fe=t(94496);const Se=(0,c.Ay)("div")(re||(re=(0,l.A)(["\n  width: 16px;\n  border-left: 2px solid #BBB;\n"]))),Pe=(0,c.Ay)("div")(ie||(ie=(0,l.A)(["\n  padding-top: 24px;\n  width: 100%;\n"]))),Te=(0,c.Ay)("div")(le||(le=(0,l.A)(["\n  width: 100%;\n  margin-bottom: 24px;\n"]))),we=(0,c.Ay)(Ce.A)(se||(se=(0,l.A)(["\n  width: 100%;\n"])));function Ee(e){const{name:n,title:t=!1,children:r}=e;return(0,F.jsxs)(Te,{children:[(0,F.jsx)(Fe.A,{variant:"subtitle1",fontWeight:t?"bolder":"normal",fontSize:t?"1.3rem":"1rem",children:n}),(0,F.jsxs)(we,{direction:"row",children:[(0,F.jsx)(Se,{}),(0,F.jsx)(Pe,{children:r})]})]},n)}var Le,ze,Ve,ke,Me=t(84508);const Be=(0,c.Ay)(xe.A)(Le||(Le=(0,l.A)(["\n  width: 100%;\n"]))),Oe=(0,c.Ay)(ue.A)(ze||(ze=(0,l.A)(["\n  width: 100%;\n"]))),Je=(0,c.Ay)(pe.l)(Ve||(Ve=(0,l.A)(["\n  width: 100%;\n"]))),De=(0,c.Ay)(N.A)(ke||(ke=(0,l.A)(["\n  &:not(:last-child) {\n    margin-bottom: 24px;\n  }\n"])));function We(e){var n;const{parameter:t,parent:r}=e,{executeFunction:i,setExecuteFunction:l}=(0,x.NT)(),s=r?r.append([t.name]):new Me.VariablePath([t.name]);function o(e){return l(i.setParameter(s,e.target.value))}function a(e){l(i.setParameter(s,e))}function c(e){l(i.setParameter(s,e.target.value))}function u(e){l(i.setParameter(s,e.target.checked))}function d(e){l(i.setParameter(s,parseInt(e.target.value)))}function m(){let e=i.getParameter(s);return void 0===e&&(e=""),e}switch(null===(n=t.variableType)||void 0===n?void 0:n.variableTypeName){case he.VariableTypeName.PrimitiveType:return(0,F.jsx)(De,{children:function(){const e=ve.Assert.notNull((0,Ae.asPrimitiveType)(t.variableType),"primitiveType");if(e.type===ge.TypeNames.string){const e=m();return(0,F.jsx)(Be,{label:t.name,variant:"outlined",value:e,onChange:c})}if(e.type===ge.TypeNames.number){const e=m();return(0,F.jsx)(Be,{label:t.name,variant:"outlined",type:"number",value:e||"",onChange:d})}if(e.type===ge.TypeNames.boolean){const e=m();return(0,F.jsx)(me.A,{control:(0,F.jsx)(fe.A,{value:e,onChange:u}),label:t.name})}if(e.type===ge.TypeNames.date){const e=m();return(0,F.jsx)(je.$,{dateAdapter:ye.h,children:(0,F.jsx)(Je,{label:t.name,value:e,onChange:a,format:"yyyy/MM/dd"})})}return(0,F.jsxs)("div",{children:["Unknown primitive type: ",e.type]})}()});case he.VariableTypeName.EnumType:return(0,F.jsx)(De,{children:function(){const e=ve.Assert.notNull((0,be.asEnumType)(t.variableType),"enumType"),n=m();return(0,F.jsxs)(ae.A,{fullWidth:!0,children:[(0,F.jsx)(ce.A,{id:"label-select-"+t.name,children:t.name}),(0,F.jsx)(Oe,{labelId:"label-select-"+t.name,value:n,label:t.name,onChange:o,children:e.enum.members.map((n,t)=>(0,F.jsx)(q.A,{value:"".concat(e.type,".").concat(n.name),children:n.name},t))})]})}()});case he.VariableTypeName.CustomType:return function(){const e=ve.Assert.notNull((0,Ne.asCustomType)(t.variableType),"enumType");return(0,F.jsx)(Ee,{name:t.name,children:(0,F.jsx)(_e,{variables:e.typeDefinition.variables,parent:s})})}();default:return(0,F.jsxs)("div",{children:["Unknown type: ",t.name]})}}var Ie,Re;const Ue=(0,c.Ay)(Ce.A)(Ie||(Ie=(0,l.A)(["\n  width: 100%;\n"]))),Ge=(0,c.Ay)(N.A)(Re||(Re=(0,l.A)(["\n  margin-bottom: 24px;\n"])));function _e(e){const{variables:n,parent:t}=e;if(!n||0===n.length)return(0,F.jsx)(Ge,{children:"No parameter variables defined"});const r=[];for(let i=0;i<n.length;i++){const e=n[i];r.push((0,F.jsx)(We,{parameter:e,parent:t},i))}return(0,F.jsx)(Ue,{children:r})}function qe(e){return"number"===typeof e||"string"===typeof e||e instanceof String||e instanceof Date||"[object Boolean]"===toString.call(e)}var $e,He,Ke;const Qe=(0,c.Ay)(Ce.A)($e||($e=(0,l.A)(["\n  width: 100%;\n"]))),Xe=(0,c.Ay)(N.A)(He||(He=(0,l.A)(["\n  &:not(:last-child) {\n    margin-bottom: 24px;\n  }\n"]))),Ye=(0,c.Ay)(xe.A)(Ke||(Ke=(0,l.A)(["\n  width: 100%;\n"])));function Ze(e){function n(e,n){return null===e||qe(e)?(0,F.jsx)(Xe,{children:(0,F.jsx)(Ye,{disabled:!0,label:n,variant:"outlined",value:null!==e?e:""})},n):(0,F.jsx)(Ee,{name:n,children:(0,F.jsx)(Ze,{values:e})},n)}const{values:t}=e,r=null!==t?Object.keys(t):null;if(null===t||null===r||0===r.length)return(0,F.jsx)(Xe,{children:"No result variables defined"});const i=[];for(const l of r){const e=t[l];i.push(n(e,l))}return(0,F.jsx)(Qe,{children:i})}var en,nn,tn,rn,ln,sn=t(12695),on=t(97461);const an=(0,c.Ay)(N.A)(en||(en=(0,l.A)(["\n  padding: 16px 8px;\n"]))),cn=(0,c.Ay)(N.A)(nn||(nn=(0,l.A)(["\n  margin-bottom: 24px;\n"]))),un=(0,c.Ay)(u.A)(tn||(tn=(0,l.A)(["\n  width: 100%;\n  margin-top: 24px;\n"]))),dn=(0,c.Ay)(N.A)(rn||(rn=(0,l.A)(["\n  margin-top: 2px;\n  margin-bottom: 24px;\n  font-size: .8rem;\n"]))),xn=(0,c.Ay)(N.A)(ln||(ln=(0,l.A)(["\n  margin-top: 8px;\n  margin-bottom: 24px;\n  font-size: 1rem;\n  color: crimson;\n"])));const mn=function(){function e(){if((0,C.VP)(c))return;const e=t,n=u(e);if(null===n)return void l(i.setError("Couldn't find function: '".concat(null===e||void 0===e?void 0:e.name,"'")));const r=new Date;try{const e=on.DependencyGraphFactory.nodeAndDependencies(c,n),t=(0,de.Br)(e).getFunction(n),s=i.getParameters(),u=t.run(s),d=sn.BuiltInDateFunctions.milliseconds(new Date,r).toNumber();a(o.setCurrent(u.logging)),l(i.setResults(u.value,d))}catch(s){l(i.setError(s.toString()))}}const{structure:n,currentStructureNode:t,setCurrentStructureNode:r,executeFunction:i,setExecuteFunction:l,executionLogging:o,setExecutionLogging:a,nodes:c}=(0,x.NT)();if((0,s.useEffect)(()=>{if(null!==n){for(const e of n){if(null!==u(e))return void r(e)}r(null)}},[n,r]),(0,C.VP)(t))return(0,F.jsx)(b.A,{});function u(e){return null===e?null:e.nodeType===_.NodeType.Function?e.node:e.nodeType===_.NodeType.Scenario?e.node.functionNode:null}const d=t,m=u(t),f=null!==m?m.name.value:"",g=function(){if(null===n)return[];const e=[];return n.forEach(n=>{const t=u(n);if(null!==t){const n=t.name.value;e.push((0,F.jsx)(q.A,{value:n,children:n},n))}}),e}();return null===n||0===g.length?(0,F.jsxs)(N.A,{children:["No functions found in file. Add ",(0,F.jsx)("strong",{children:"Function:"})," to the code, or select a file with functions."]}):(0,F.jsxs)(an,{children:[(0,F.jsx)(cn,{children:(0,F.jsxs)(ae.A,{fullWidth:!0,children:[(0,F.jsx)(ce.A,{id:"label-select-function",children:"Execute Function"}),(0,F.jsx)(ue.A,{labelId:"label-select-function",value:f,label:"Execute Function",onChange:e=>{if(null===n)return;const t=function(e){if(null===n)return null;for(const t of n){const n=u(t);if(null!==n&&n.name.value===e)return t}return null}(e.target.value);null!==t&&r(t)},children:g})]})}),function(){var n;if(null===d||null===m)return(0,F.jsx)(N.A,{children:"Select function to execute it."});const t=i.getResults();return(0,F.jsxs)(oe.A,{children:[(0,F.jsx)(Ee,{name:"Parameters",title:!0,children:(0,F.jsx)(_e,{variables:null===(n=m.parameters)||void 0===n?void 0:n.variables})}),(0,F.jsx)(un,{variant:"contained",onClick:e,children:"Execute"}),null!==i.elapsed?(0,F.jsxs)(dn,{children:["Execution time: ",i.elapsed,"ms"]}):(0,F.jsx)(F.Fragment,{}),null!==i&&i.error?(0,F.jsx)(xn,{children:i.error.split("\n").map((e,n)=>(0,F.jsx)("div",{children:e},n))}):[],null!==t?(0,F.jsx)(Ee,{name:"Results",title:!0,children:(0,F.jsx)(Ze,{values:t})}):(0,F.jsx)(F.Fragment,{})]})}()]})};var fn,gn,hn,An,pn,jn=t(88446);const yn=(0,c.Ay)(m.A)(fn||(fn=(0,l.A)(['\n  font-family: Menlo, Monaco, "Courier New", monospace;\n  font-size: 12px;\n']))),vn=(0,c.Ay)(g.A)(gn||(gn=(0,l.A)(["\n  padding: 2px;\n  width: 30px;\n"]))),bn=(0,c.Ay)(h.A)(hn||(hn=(0,l.A)(["\n  padding: 0;\n  min-width: 30px\n"]))),Nn=(0,c.Ay)("div")(An||(An=(0,l.A)(["\n  flex-grow: 1;\n"]))),Cn=(0,c.Ay)("div")(pn||(pn=(0,l.A)(["\n  width: 12px;\n"])));function Fn(e){const{entry:n}=e,t=n.isError?{color:"red"}:null!==n.node?{color:"green"}:{},{executionLogging:r,setExecutionLogging:i,setEditorPosition:l,setLayout:o,currentFile:a}=(0,x.NT)(),[c,u]=(0,s.useState)(!1);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(f.Ay,{disablePadding:!0,style:t,children:[(0,F.jsx)(vn,{style:{flexGrow:0},children:(0,F.jsx)(bn,{onClick:()=>u(!c),children:null===n.errors||0===n.errors.length?(0,F.jsx)(F.Fragment,{}):c?(0,F.jsx)(j.A,{fontSize:"small"}):(0,F.jsx)(p.A,{fontSize:"small"})})}),(0,F.jsx)(Nn,{children:n.message}),n.executionLogging?(0,F.jsx)(jn.A,{style:{cursor:"pointer"},onClick:()=>{n.executionLogging&&(i(r.setCurrent(n.executionLogging)),o(e=>e.setMainContainer(d.J3.ExecutionLogging)))},children:"view execution logging"}):(0,F.jsx)(F.Fragment,{}),(0,F.jsx)(Cn,{}),n.reference?(0,F.jsx)(jn.A,{style:{cursor:"pointer"},onClick:()=>{n.reference&&(null===a||(0,C.VP)(a)||a.name===n.reference.file.fileName)&&(l({lineNumber:n.reference.lineNumber,column:n.reference.characterNumber,source:"state"}),o(e=>e.setMainContainer(d.J3.Source)))},children:"view code"}):(0,F.jsx)(F.Fragment,{})]}),null!==n.errors&&c?(0,F.jsx)(m.A,{children:n.errors.map((e,n)=>(0,F.jsx)(f.Ay,{disablePadding:!0,children:e},n))}):(0,F.jsx)(F.Fragment,{})]})}const Sn=function(){const{testingLogging:e}=(0,x.NT)();if((0,C.VP)(e))return(0,F.jsx)(b.A,{});const n=e.map((e,n)=>(0,F.jsx)(Fn,{entry:e},n));return(0,F.jsx)(yn,{disablePadding:!0,children:n})};var Pn,Tn;const wn=(0,c.Ay)(g.A)(Pn||(Pn=(0,l.A)(["\n  padding: 2px;\n"]))),En=(0,c.Ay)(m.A)(Tn||(Tn=(0,l.A)(['\n  font-family: Menlo, Monaco, "Courier New", monospace;\n  font-size: 12px;\n'])));function Ln(e){const{setEditorPosition:n,currentFile:t}=(0,x.NT)(),{logEntry:r}=e;return(0,F.jsx)(f.Ay,{disablePadding:!0,onClick:function(){(null===t||(0,C.VP)(t)||t.name===r.reference.file.fileName)&&n({lineNumber:r.reference.lineNumber,column:r.reference.characterNumber,source:"state"})},children:(0,F.jsx)(wn,{style:r.isError?{color:"red"}:{},children:r.message})})}const zn=function(){const{currentFileLogging:e}=(0,x.NT)();if((0,C.VP)(e))return(0,F.jsx)(b.A,{});const n=e.sort((e,n)=>e.sortIndex<n.sortIndex?-1:1).map((e,n)=>(0,F.jsx)(Ln,{logEntry:e},n));return(0,F.jsx)(En,{disablePadding:!0,children:n})};var Vn,kn,Mn;const Bn=(0,c.Ay)(a.A)(Vn||(Vn=(0,l.A)(["\n  margin-top: 8px;\n  margin-bottom: 8px;\n"]))),On=(0,c.Ay)(N.A)(kn||(kn=(0,l.A)(["\n  &:not(:last-child) {\n    margin-bottom: 24px;\n  }\n"]))),Jn=(0,c.Ay)(xe.A)(Mn||(Mn=(0,l.A)(["\n  width: 100%;\n"])));function Dn(e){function n(e,n){return!e||qe(e)?(0,F.jsx)(a.A,{size:3,children:(0,F.jsx)(On,{children:(0,F.jsx)(Jn,{disabled:!0,label:n,variant:"outlined",value:null!==e?e:""})},n)},n):(0,F.jsx)(a.A,{size:12,children:(0,F.jsx)(Ee,{name:n,children:(0,F.jsx)(Dn,{values:e})})},n)}const{values:t}=e,r=t?Object.keys(t):null;if(null===t||null===r||0===r.length)return(0,F.jsx)(On,{children:"No variables defined"});const i=[];for(const l of r){const e=t[l];i.push(n(e,l))}return(0,F.jsx)(Bn,{container:!0,spacing:2,children:i})}var Wn,In,Rn,Un,Gn,_n;const qn=(0,c.Ay)(g.A)(Wn||(Wn=(0,l.A)(["\n  padding: 0;\n"]))),$n=(0,c.Ay)(h.A)(In||(In=(0,l.A)(["\n  padding: 0;\n  min-width: 30px\n"]))),Hn=(0,c.Ay)(Dn)(Rn||(Rn=(0,l.A)(["\n  margin-bottom: 24px\n"]))),Kn=(0,c.Ay)(Ce.A)(Un||(Un=(0,l.A)(["\n  flex-grow: 1;\n"]))),Qn=(0,c.Ay)(f.Ay)(Gn||(Gn=(0,l.A)([""]))),Xn=(0,c.Ay)(f.Ay)(_n||(_n=(0,l.A)(["\n  color: darkgrey;\n"])));function Yn(e){function n(e){return null!==e&&Object.keys(e).length>0}function t(e){return(0,F.jsx)(f.Ay,{disablePadding:!0,style:i>0?{paddingLeft:e+"px"}:{},children:(0,F.jsxs)(Kn,{children:[n(r.readVariables)?(0,F.jsx)(Hn,{values:r.readVariables}):(0,F.jsx)(F.Fragment,{}),n(r.writeVariables)?(0,F.jsx)(Dn,{values:r.writeVariables}):(0,F.jsx)(F.Fragment,{})]})})}const{entry:r,indent:i,parent:l,index:s}=e,o=[...l,s.toString()],a=[...l,s.toString(),"var"],{executionLoggingTreeState:c,setExecutionLoggingTreeState:u}=(0,x.NT)(),d=c.isOpen(o),m=c.isOpen(a),g="Parameters"===r.message||"Results"===r.message,h=n(r.readVariables)||n(r.writeVariables),y=r.entries.length>0||g&&h,v=r.message.startsWith("Execute:"),b=e=>u(c.setOpen(a,e));return g&&!h?(0,F.jsx)(F.Fragment,{}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Qn,{disablePadding:!0,style:g?{color:"darkgray"}:{},children:(0,F.jsxs)(qn,{onClick:()=>{return e=!d,u(c.setOpen(o,e));var e},style:i>0?{paddingLeft:16*i+"px"}:{},children:[(0,F.jsx)($n,{children:y?d?(0,F.jsx)(j.A,{fontSize:"small"}):(0,F.jsx)(p.A,{fontSize:"small"}):(0,F.jsx)(F.Fragment,{})}),(0,F.jsx)(A.A,{primaryTypographyProps:v?{fontWeight:600}:{},children:r.message})]})}),function(){if(g)return d?t(16*i+30):(0,F.jsx)(F.Fragment,{});if(!h)return(0,F.jsx)(F.Fragment,{});const e=16*i+60;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Xn,{disablePadding:!0,children:(0,F.jsxs)(qn,{onClick:()=>b(!m),style:i>0?{paddingLeft:16*i+30+"px"}:{},children:[(0,F.jsx)($n,{children:m?(0,F.jsx)(j.A,{fontSize:"small"}):(0,F.jsx)(p.A,{fontSize:"small"})}),"Variables"]})}),m?t(e):(0,F.jsx)(F.Fragment,{})]})}(),function(){const e=[];if(d&&r.entries)for(let n=0;n<r.entries.length;n++){const t=r.entries[n];t&&e.push((0,F.jsx)(Yn,{entry:t,indent:i+1,parent:o,index:n},n))}return e}()]})}const Zn=function(){const{executionLogging:e,setExecutionLoggingTreeState:n,currentFile:t}=(0,x.NT)();return(0,s.useEffect)(()=>{n(e=>e.reset().setOpen(["0"],!0))},[null===t||void 0===t?void 0:t.identifier,n]),(0,F.jsx)(m.A,{disablePadding:!0,children:function(){if(null===e)return(0,F.jsx)(N.A,{children:"No execution logging."});if((0,C.VP)(e))return(0,F.jsx)(b.A,{});const n=[];for(let t=0;t<e.logging.length;t++){const r=e.logging[t];null!==r&&n.push((0,F.jsx)(Yn,{entry:r,indent:0,parent:[],index:t},t))}return n}()})};var et,nt=t(65584),tt=t(29285);const rt=(0,c.Ay)("div")(et||(et=(0,l.A)(["\n  padding: 4px 12px 8px 4px;\n"]))),it="https://github.com/lexy-language/lexy-language/blob/main/";function lt(){const{setCurrentFile:e}=(0,x.NT)();const{currentFileCode:n}=(0,x.NT)(),t={a:n=>n.href.startsWith(it)?(0,F.jsx)("a",{href:"#top",onClick:()=>function(n){const t="Lexy|".concat(n.substring(57).replaceAll("/","|"));e({name:t,identifier:t})}(n.href),children:n.children}):(0,F.jsx)("a",{href:n.href,children:n.children})};return(0,s.useEffect)(()=>{const e=document.querySelector(".markdown-body");null===e||void 0===e||e.scrollIntoView({behavior:"smooth"},200)},[n]),(0,C.VP)(n)?(0,F.jsx)(b.A,{size:200}):(0,F.jsx)(rt,{children:(0,F.jsx)(nt.oz,{className:"markdown-body",components:t,remarkPlugins:[tt.A],children:null===n||void 0===n?void 0:n.code})})}var st,ot,at,ct,ut,dt,xt=t(8738);const mt=(0,c.Ay)(a.A)(st||(st=(0,l.A)(["\n  height: calc(100% - 264px);\n"]))),ft=(0,c.Ay)(a.A)(ot||(ot=(0,l.A)(["\n  height: 100%;\n  padding: 8px;\n"]))),gt=(0,c.Ay)(a.A)(at||(at=(0,l.A)(["\n  height: 200px;\n  padding: 0 8px 8px;\n"]))),ht=(0,c.Ay)(o.A)(ct||(ct=(0,l.A)(["\n  height: 100%;\n  padding: 8px;\n  overflow-y: auto;\n"]))),At=(0,c.Ay)(N.A)(ut||(ut=(0,l.A)(["\n  height: calc(100% - 44px);\n  padding: 0;\n  overflow-y: auto;\n"]))),pt=(0,c.Ay)(N.A)(dt||(dt=(0,l.A)(["\n  height: 44px;\n  padding: 8px 0 0;\n"])));function jt(e,n,t){return(0,F.jsx)(pt,{children:e.map(e=>(0,F.jsx)(u.A,{variant:e.value===n?"contained":"text",onClick:()=>t(e.value),children:e.name},e.name))})}function yt(e,n){var t;return(0,F.jsx)(At,{children:null===(t=e.find(e=>e.value===n))||void 0===t?void 0:t.element()})}const vt=function(){const{layout:e,setLayout:n,testingLogging:t,currentFileCode:r}=(0,x.NT)(),[i,l]=(0,s.useState)(!1),o=[{name:"Explorer",value:d.RN.Explorer,element:()=>(0,F.jsx)(E,{})},{name:"Structure",value:d.RN.Structure,element:()=>(0,F.jsx)(Y,{})}],a=[{name:"View",value:d.J3.View,element:()=>(0,F.jsx)(lt,{})},{name:"Source Code",value:d.J3.Source,element:()=>(0,F.jsx)(te,{})},{name:"Execution Logging",value:d.J3.ExecutionLogging,element:()=>(0,F.jsx)(Zn,{})}],c=e=>[{name:"Compilation Logging",value:d.hw.Logging,element:()=>(0,F.jsx)(zn,{})},{name:"Test Logging"+e,value:d.hw.Testing,element:()=>(0,F.jsx)(Sn,{})}];function u(e){return t=>n(n=>e(n,t))}const m=null!==r&&!(0,C.VP)(r)&&r.identifier.endsWith(".md");i!==m&&l(m);const f=function(){if(null===t||(0,C.VP)(t))return"";const e=t,n=(0,ee.count)(e,e=>!e.isError&&null!==e.node),r=(0,ee.count)(e,e=>null!==e.node);return" (".concat(n,"/").concat(r,")")}(),g=m?a:a.splice(1),h=m||e.mainContainer!==d.J3.View?e.mainContainer:d.J3.Source;return(0,s.useEffect)(()=>{m&&e.mainContainer!==d.J3.View&&n(e=>e.setMainContainer(d.J3.View))},[i]),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(mt,{container:!0,style:xt.Bd?{}:{height:"calc(100% - 64px)"},children:[xt.Bd?(0,F.jsx)(ft,{size:3,children:(0,F.jsxs)(ht,{children:[yt(o,e.leftContainer),jt(o,e.leftContainer,u((e,n)=>e.setLeftContainer(n)))]})}):(0,F.jsx)(F.Fragment,{}),(0,F.jsx)(ft,{size:xt.Bd?6:12,children:(0,F.jsxs)(ht,{children:[yt(g,h),jt(g,h,u((e,n)=>e.setMainContainer(n)))]})}),xt.Bd?(0,F.jsx)(ft,{size:3,children:(0,F.jsx)(ht,{children:(0,F.jsx)(At,{children:(0,F.jsx)(mn,{})})})}):(0,F.jsx)(F.Fragment,{})]}),xt.Bd?(0,F.jsx)(gt,{children:(0,F.jsxs)(ht,{children:[yt(c(f),e.bottomContainer),jt(c(f),e.bottomContainer,u((e,n)=>e.setBottomContainer(n)))]})}):(0,F.jsx)(F.Fragment,{})]})}}}]);
//# sourceMappingURL=920.15670439.chunk.js.map