"use strict";(self.webpackChunklexy_editor=self.webpackChunklexy_editor||[]).push([[9461],{29461(n,e,t){t.r(e),t.d(e,{default:()=>vt});var r,i,s=t(57528),l=t(65043),o=t(61596),a=t(766),c=t(34535),d=t(11906),u=t(90469),x=t(35721),m=t(30681),f=t(38968),h=t(2050),g=t(48734),j=t(42692),A=t(692),p=t(28400),y=t(14571),v=t(81637),b=t(7353),C=t(82610),F=t(17795),N=t(70579);const E=(0,c.Ay)(f.A)(r||(r=(0,s.A)(["\n  padding: 0;\n"]))),S=(0,c.Ay)(h.A)(i||(i=(0,s.A)(["\n  padding: 0;\n  min-width: 30px\n"])));function w(n){const{folder:e,currentFile:t,indent:r,parent:i}=n,s=[...i,e.name],{projectFilesTreeState:l,setProjectFilesTreeState:o}=(0,F.Om)(),a=l.isOpen(s);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(m.Ay,{disablePadding:!0,children:(0,N.jsxs)(E,{style:r>0?{marginLeft:16*r+"px"}:{},children:[(0,N.jsx)(S,{onClick:()=>{return n=!a,o(l.setOpen(s,n));var n},children:a?(0,N.jsx)(A.A,{fontSize:"small"}):(0,N.jsx)(j.A,{fontSize:"small"})}),(0,N.jsx)(S,{children:(0,N.jsx)(p.A,{fontSize:"small"})}),(0,N.jsx)(g.A,{primary:e.name})]})}),a&&e.folders?e.folders.map(n=>(0,N.jsx)(w,{folder:n,indent:r+1,currentFile:t,parent:s},n.name)):[],a&&e.files?e.files.map(n=>(0,N.jsx)(L,{file:n,indent:r+1,currentFile:t},n.name)):[]]})}function L(n){const{file:e,currentFile:t,indent:r}=n,{setCurrentFile:i}=(0,F.Om)();return(0,N.jsx)(m.Ay,{disablePadding:!0,onClick:()=>i(e),style:t===e?{background:"#EEE"}:{},children:(0,N.jsxs)(E,{style:r>0?{paddingLeft:30+16*r+"px"}:{},children:[(0,N.jsx)(S,{children:(0,N.jsx)(y.A,{fontSize:"small"})}),(0,N.jsx)(g.A,{primary:e.name})]})})}const P=function(){const{projectFiles:n,currentFile:e}=(0,F.Om)();return(0,N.jsx)(x.A,{disablePadding:!0,children:null===n?(0,N.jsx)(b.A,{children:"No project loaded."}):(0,C.VP)(n)?(0,N.jsx)(v.A,{}):(0,N.jsx)(w,{folder:n,indent:0,currentFile:e,parent:[]})})};var k,z,V=t(52757),O=t(85225),T=t(25770),M=t(39681),B=t(18124),J=t(54175),I=t(7967),U=t(17548),W=t(99462),D=t(79574),R=t(50307),Y=t(97585),_=t(15459),q=t(20811),G=t(10673),$=t(14865),H=t(84593),K=t(87675);const Q=(0,c.Ay)(f.A)(k||(k=(0,s.A)(["\n  padding: 0;\n"]))),X=(0,c.Ay)(h.A)(z||(z=(0,s.A)(["\n  padding: 0;\n  min-width: 30px\n"])));function Z(n){function e(n){c({lineNumber:r.lineNumber,column:r.characterNumber,source:"state"}),d(n=>n.setMainContainer(u.J3.Source)),y(r),"contextmenu"===n.type&&(C(n.currentTarget),n.preventDefault())}function t(){C(null)}const{node:r,indent:i,parent:s,index:o}=n,a=r.kind===V.dL.Expression?[...s,""+o,r.name]:[...s,r.name],{setEditorPosition:c,setLayout:d}=(0,q.mi)(),{nodeTreeState:x,setNodeTreeState:f,currentNode:p,setCurrentNode:y}=(0,F.Om)(),v=x.isOpen(a),[b,C]=l.useState(null),E=Boolean(b),S=r.nodeType!==_.NodeType.Function?[]:[(0,N.jsxs)(G.A,{onClick:()=>{t()},children:[(0,N.jsx)(h.A,{children:(0,N.jsx)(H.A,{fontSize:"small"})}),(0,N.jsx)(g.A,{children:"Execute"})]},"execute")],w=function(){if(!v||!r.children)return[];const n=[];for(let e=0;e<r.children.length;e++){const t=r.children[e];t&&n.push((0,N.jsx)(Z,{node:t,indent:i+1,index:e,parent:a},e+"."+t.name))}return n}();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(m.Ay,{disablePadding:!0,onClick:e,onContextMenu:e,style:p===r?{background:"#EEE"}:{},children:(0,N.jsxs)(Q,{onClick:()=>{return n=!v,f(x.setOpen(a,n));var n},style:i>0?{paddingLeft:16*i+"px"}:{},children:[(0,N.jsx)(X,{children:0===r.children.length?(0,N.jsx)(N.Fragment,{}):v?(0,N.jsx)(A.A,{fontSize:"small"}):(0,N.jsx)(j.A,{fontSize:"small"})}),(0,N.jsx)(X,{children:function(n){switch(n){case V.dL.Code:case V.dL.Function:case V.dL.Expression:return(0,N.jsx)(O.A,{fontSize:"small"});case V.dL.Scenario:return(0,N.jsx)(T.A,{fontSize:"small"});case V.dL.Table:return(0,N.jsx)(M.A,{fontSize:"small"});case V.dL.Results:case V.dL.Parameters:return(0,N.jsx)(B.A,{fontSize:"small"});case V.dL.Type:return(0,N.jsx)(K.A,{fontSize:"small"});case V.dL.Enum:return(0,N.jsx)(J.A,{fontSize:"small"});case V.dL.Date:return(0,N.jsx)(I.A,{fontSize:"small"});case V.dL.Errors:return(0,N.jsx)(U.A,{fontSize:"small"});case V.dL.EnumMember:case V.dL.Number:return(0,N.jsx)(W.A,{fontSize:"small"});case V.dL.Boolean:return(0,N.jsx)(D.A,{});case V.dL.String:return(0,N.jsx)(R.A,{fontSize:"small"});case V.dL.Unknown:default:return(0,N.jsx)(Y.A,{fontSize:"small"})}}(r.kind)}),(0,N.jsx)(g.A,{primary:r.name})]})}),w,(0,N.jsx)($.A,{anchorEl:b,open:S.length>0&&E,onClose:t,MenuListProps:{"aria-labelledby":"basic-button"},children:S})]})}const nn=function(){const{nodes:n}=(0,F.Om)();return(0,N.jsx)(x.A,{disablePadding:!0,children:function(){if(null===n)return(0,N.jsx)(b.A,{children:"No structure."});if((0,C.VP)(n))return(0,N.jsx)(v.A,{});const e=[];for(let t=0;t<n.length;t++){const r=n[t];null!==r&&e.push((0,N.jsx)(Z,{node:r,indent:0,parent:[],index:t},t))}return e}()})};var en=t(77158),tn=(t(83347),t(45014));const rn=" ".charCodeAt(0);function sn(){const n=(0,en.dJ)(),e=(0,l.useRef)(null),{editorPosition:t,setEditorPosition:r}=(0,q.mi)(),{currentFileCode:i,setCurrentFileCode:s,currentFileLogging:o}=(0,F.Om)(),[a,c]=(0,l.useState)(!1);function d(){var t;if(!e.current)return;if(null===o||(0,C.VP)(o)||null===n)return;if(null===i||(0,C.VP)(i))return;const r=null===(t=e.current)||void 0===t?void 0:t.getModel();if(null===r)return;const s=(0,tn.where)(o,n=>n.isError&&i.name===n.fileName).map(e=>{const t=e.lineNumber>0&&e.lineNumber<=r.getLineCount()?r.getLineContent(e.lineNumber):null,i=t?function(n,e){for(let t=e+1;t<n.length;t++)if(n.charCodeAt(t)===rn)return t;return n.length}(t,e.characterNumber):1;return{message:e.message,severity:n.MarkerSeverity.Error,startLineNumber:e.lineNumber,startColumn:e.characterNumber,endLineNumber:e.lineNumber,endColumn:i+1}});n.editor.setModelMarkers(r,"owner",s)}if((0,l.useEffect)(function(){n&&n.languages.register({id:"lexy"})},[n]),(0,l.useEffect)(function(){var n,r,i;e.current&&null!==t&&"editor"!==t.source&&(null===(n=e.current)||void 0===n||n.setPosition({lineNumber:t.lineNumber,column:t.column}),null===(r=e.current)||void 0===r||r.revealLineInCenter(t.lineNumber),null===(i=e.current)||void 0===i||i.focus())},[t]),(0,l.useEffect)(function(){var n,t;null===e.current||null===i||(0,C.VP)(i)||"editor"===i.source||(null===(n=e.current)||void 0===n||n.setValue(i.code),null===(t=e.current)||void 0===t||t.revealLine(1))},[i]),(0,l.useEffect)(d,[o,n,i]),(0,l.useEffect)(function(){var n,t;e.current&&null!==i&&!(0,C.VP)(i)&&(null===(n=e.current)||void 0===n||n.setValue(i.code),null===(t=e.current)||void 0===t||t.revealLine(1),d())},[a]),!i)return(0,N.jsx)(b.A,{children:"No file selected"});if((0,C.VP)(i))return(0,N.jsx)(v.A,{});const u=null!==i&&void 0!==i&&i.identifier.endsWith("lexy")?"yaml":void 0;return(0,N.jsx)(en.Ay,{language:u,theme:"lexy-theme",onChange:function(n,e){var t,r;if("setValue"===(null===(t=(0,tn.firstOrDefault)(e.detailedReasons))||void 0===t||null===(r=t.metadata)||void 0===r?void 0:r.source))return;if(console.log("handleEditorChange: "+JSON.stringify(e)),!n)return;if(!i||(0,C.VP)(i))return;if(i.code===n)return;let l={name:i.name,identifier:i.identifier,code:n,source:"editor"};s(l)},onMount:function(n){var t,i;e.current=n,null===(t=e.current)||void 0===t||t.updateOptions({scrollbar:{horizontal:"hidden"}}),c(!0),n.onDidChangeCursorPosition(n=>{r({lineNumber:n.position.lineNumber,column:n.position.column,source:"editor"})});const s=null===(i=e.current)||void 0===i?void 0:i.getModel();null!==s&&s.updateOptions({tabSize:2,indentSize:2})},options:{scrollbar:{horizontal:"hidden"},minimap:{enabled:!1},wordWrap:"on"}})}var ln,on,an,cn,dn=t(69413),un=t(53193),xn=t(79190),mn=t(69285),fn=t(67784),hn=t(74605),gn=t(23217),jn=t(1267),An=t(58390),pn=t(36339),yn=t(88911),vn=t(94496);const bn=(0,c.Ay)("div")(ln||(ln=(0,s.A)(["\n  width: 16px;\n  border-left: 2px solid #BBB;\n"]))),Cn=(0,c.Ay)("div")(on||(on=(0,s.A)(["\n  padding-top: 24px;\n  width: 100%;\n"]))),Fn=(0,c.Ay)("div")(an||(an=(0,s.A)(["\n  width: 100%;\n  margin-bottom: 24px;\n"]))),Nn=(0,c.Ay)(yn.A)(cn||(cn=(0,s.A)(["\n  width: 100%;\n"])));function En(n){const{name:e,title:t=!1,children:r}=n;return(0,N.jsxs)(Fn,{children:[(0,N.jsx)(vn.A,{variant:"subtitle1",fontWeight:t?"bolder":"normal",fontSize:t?"1.3rem":"1rem",children:e}),(0,N.jsxs)(Nn,{direction:"row",children:[(0,N.jsx)(bn,{}),(0,N.jsx)(Cn,{children:r})]})]},e)}var Sn,wn,Ln,Pn,kn=t(5627),zn=t(27449),Vn=t(97072);const On=(0,c.Ay)(fn.A)(Sn||(Sn=(0,s.A)(["\n  width: 100%;\n"]))),Tn=(0,c.Ay)(mn.A)(wn||(wn=(0,s.A)(["\n  width: 100%;\n"]))),Mn=(0,c.Ay)(jn.l)(Ln||(Ln=(0,s.A)(["\n  width: 100%;\n"]))),Bn=(0,c.Ay)(b.A)(Pn||(Pn=(0,s.A)(["\n  &:not(:last-child) {\n    margin-bottom: 24px;\n  }\n"])));function Jn(n){const{parameter:e,parent:t}=n,{executeFunction:r,setExecuteFunction:i}=(0,Vn.EU)(),s=t?t.append([e.name]):new kn.IdentifierPath([e.name]);function l(n){return i(r.setParameter(s,n.target.value))}function o(n){i(r.setParameter(s,n))}function a(n){i(r.setParameter(s,n.target.value))}function c(n){i(r.setParameter(s,n.target.checked))}function d(n){i(r.setParameter(s,parseInt(n.target.value)))}function u(){let n=r.getParameter(s);return void 0===n&&(n=""),n}switch(e.type.kind){case V.fY.Primitive:return(0,N.jsx)(Bn,{children:function(n){if(n.name===zn.TypeNames.string){const n=u();return(0,N.jsx)(On,{label:e.name,variant:"outlined",value:n,onChange:a})}if(n.name===zn.TypeNames.number){const n=u();return(0,N.jsx)(On,{label:e.name,variant:"outlined",type:"number",value:n||"",onChange:d})}if(n.name===zn.TypeNames.boolean){const n=u();return(0,N.jsx)(hn.A,{control:(0,N.jsx)(gn.A,{value:n,onChange:c}),label:e.name})}if(n.name===zn.TypeNames.date){const n=u();return(0,N.jsx)(An.$,{dateAdapter:pn.h,children:(0,N.jsx)(Mn,{label:e.name,value:n,onChange:o,format:"yyyy/MM/dd"})})}return(0,N.jsxs)("div",{children:["Unknown primitive type: ",n.name]})}(e.type)});case V.fY.Enum:return(0,N.jsx)(Bn,{children:function(n){const t=u();return(0,N.jsxs)(un.A,{fullWidth:!0,children:[(0,N.jsx)(xn.A,{id:"label-select-"+e.name,children:e.name}),(0,N.jsx)(Tn,{labelId:"label-select-"+e.name,value:t,label:e.name,onChange:l,children:n.members.map((e,t)=>(0,N.jsx)(G.A,{value:"".concat(n.kind,".").concat(e),children:e},t))})]})}(e.type)});case V.fY.Object:return x=e.type,(0,N.jsx)(En,{name:e.name,children:(0,N.jsx)(Rn,{variables:x.variables,parent:s})});default:return(0,N.jsxs)("div",{children:["Unknown type: ",e.name,"(",e.type.kind,")"]})}var x}var In,Un;const Wn=(0,c.Ay)(yn.A)(In||(In=(0,s.A)(["\n  width: 100%;\n"]))),Dn=(0,c.Ay)(b.A)(Un||(Un=(0,s.A)(["\n  margin-bottom: 24px;\n"])));function Rn(n){const{variables:e,parent:t}=n;if(!e||0===e.length)return(0,N.jsx)(Dn,{children:"No parameter variables defined"});const r=[];for(let i=0;i<e.length;i++){const n=e[i];r.push((0,N.jsx)(Jn,{parameter:n,parent:t},i))}return(0,N.jsx)(Wn,{children:r})}function Yn(n){return"number"===typeof n||"string"===typeof n||n instanceof String||n instanceof Date||"[object Boolean]"===toString.call(n)}var _n,qn,Gn;const $n=(0,c.Ay)(yn.A)(_n||(_n=(0,s.A)(["\n  width: 100%;\n"]))),Hn=(0,c.Ay)(b.A)(qn||(qn=(0,s.A)(["\n  &:not(:last-child) {\n    margin-bottom: 24px;\n  }\n"]))),Kn=(0,c.Ay)(fn.A)(Gn||(Gn=(0,s.A)(["\n  width: 100%;\n"])));function Qn(n){function e(n,e){return null===n||Yn(n)?(0,N.jsx)(Hn,{children:(0,N.jsx)(Kn,{disabled:!0,label:e,variant:"outlined",value:null!==n?n:""})},e):(0,N.jsx)(En,{name:e,children:(0,N.jsx)(Qn,{values:n})},e)}const{values:t}=n,r=null!==t?Object.keys(t):null;if(null===t||null===r||0===r.length)return(0,N.jsx)(Hn,{children:"No result variables defined"});const i=[];for(const s of r){const n=t[s];i.push(e(n,s))}return(0,N.jsx)($n,{children:i})}var Xn,Zn,ne,ee,te,re;const ie=(0,c.Ay)(b.A)(Xn||(Xn=(0,s.A)(["\n  padding: 16px 8px;\n"]))),se=(0,c.Ay)(b.A)(Zn||(Zn=(0,s.A)(["\n  margin-bottom: 24px;\n"]))),le=(0,c.Ay)(d.A)(ne||(ne=(0,s.A)(["\n  width: 100%;\n  margin-top: 24px;\n"]))),oe=(0,c.Ay)(b.A)(ee||(ee=(0,s.A)(["\n  margin-top: 2px;\n  margin-bottom: 24px;\n  font-size: .8rem;\n"]))),ae=(0,c.Ay)(b.A)(te||(te=(0,s.A)(["\n  margin-top: 8px;\n  margin-bottom: 24px;\n  font-size: 1rem;\n  color: crimson;\n"]))),ce=(0,c.Ay)(b.A)(re||(re=(0,s.A)(["\n  padding: 16px;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));const de=function(){const{nodes:n,currentNode:e,currentFile:t,setCurrentNode:r,currentFileCode:i}=(0,F.Om)(),{runFunction:s,runFunctionCompleted:o,executeFunction:c,setExecuteFunction:d}=(0,Vn.EU)(),[u,x]=(0,l.useState)([]);function m(){if(!o||!o.error)return(0,N.jsx)(N.Fragment,{});const n=o;return(0,N.jsx)(ae,{children:n.lastError.split("\n").map((n,e)=>(0,N.jsx)("div",{children:n},e))})}function f(n){return(null===n||void 0===n?void 0:n.nodeType)===_.NodeType.Function?n:(null===n||void 0===n?void 0:n.nodeType)===_.NodeType.Scenario?(0,tn.firstOrDefault)(n.children,n=>n.nodeType===_.NodeType.Function):null}function h(){if((0,C.VP)(n)||!e||!t||null==i||(0,C.VP)(i))return;if(null===f(g))return void d(c.setError("Couldn't find function: '".concat(null===g||void 0===g?void 0:g.name,"'")));const r=i.identifier.split("|");r.splice(r.length-1,1),s(r,t.name,e.name,c.parameters)}(0,l.useEffect)(()=>{if((0,C.VP)(n))return;const e=[];n.forEach(function(n){if(n.kind===V.dL.Function)e.push((0,N.jsx)(G.A,{value:n.name,children:n.name},n.name));else if(n.kind===V.dL.Scenario){const t=(0,tn.firstOrDefault)(n.children,n=>n.kind===V.dL.Function);t&&e.push((0,N.jsx)(G.A,{value:n.name,children:t.name},t.name))}}),x(e);for(const t of n){if(null!==f(t))return void r(t)}r(null)},[n,r]);const g=e,j=f(e);return 0===u.length?(0,N.jsxs)(b.A,{children:["No functions found in file. Add ",(0,N.jsx)("strong",{children:"function NewFunction"})," to the code, or select a file with functions."]}):(0,N.jsxs)(ie,{children:[(0,N.jsx)(se,{children:(0,N.jsxs)(un.A,{fullWidth:!0,children:[(0,N.jsx)(xn.A,{id:"label-select-function",children:"Execute Function"}),(0,N.jsx)(mn.A,{labelId:"label-select-function",label:"Execute Function",onChange:e=>{const t=function(e){if((0,C.VP)(n))return null;for(const t of n){const n=f(t);if(null!==n&&n.name===e)return n}return null}(e.target.value);null!==t&&r(t)},value:e?e.name:"",disabled:(0,C.VP)(n),children:u})]})}),(0,C.VP)(n)?(0,N.jsx)(ce,{children:(0,N.jsx)(a.A,{container:!0,direction:"row",alignItems:"center",children:(0,N.jsx)(a.A,{children:(0,N.jsx)(v.A,{size:50})})})}):null===g||null===j?(0,N.jsx)(b.A,{children:"Select function to execute it."}):(0,N.jsxs)(dn.A,{children:[(0,N.jsx)(En,{name:"Parameters",title:!0,children:(0,N.jsx)(Rn,{variables:j.parameters})}),(0,N.jsx)(le,{variant:"contained",onClick:h,children:"Execute"}),null!==c.elapsed?(0,N.jsxs)(oe,{children:["Compilation and execution time: ",c.elapsed,"ms"]}):(0,N.jsx)(N.Fragment,{}),m(),c.loading?(0,N.jsx)(ce,{children:(0,N.jsx)(a.A,{container:!0,direction:"row",alignItems:"center",children:(0,N.jsx)(a.A,{children:(0,N.jsx)(v.A,{size:50})})})}):(0,N.jsx)(N.Fragment,{}),c.results?(0,N.jsx)(En,{name:"Results",title:!0,children:(0,N.jsx)(Qn,{values:c.results})}):(0,N.jsx)(N.Fragment,{})]})]})};var ue,xe,me,fe,he,ge,je=t(88446);const Ae=(0,c.Ay)(x.A)(ue||(ue=(0,s.A)(['\n  font-family: Menlo, Monaco, "Courier New", monospace;\n  font-size: 12px;\n']))),pe=(0,c.Ay)(f.A)(xe||(xe=(0,s.A)(["\n  padding: 2px;\n  width: 30px;\n"]))),ye=(0,c.Ay)(h.A)(me||(me=(0,s.A)(["\n  padding: 0;\n  min-width: 30px\n"]))),ve=(0,c.Ay)("div")(fe||(fe=(0,s.A)(["\n  flex-grow: 1;\n"]))),be=(0,c.Ay)("div")(he||(he=(0,s.A)(["\n  width: 12px;\n"]))),Ce=(0,c.Ay)(b.A)(ge||(ge=(0,s.A)(["\n  padding: 16px;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));function Fe(n){const{entry:e}=n,t=e.isError?{color:"red"}:null!==e.nodeName?{color:"green"}:{},{setEditorPosition:r,setLayout:i}=(0,q.mi)(),{currentFile:s}=(0,F.Om)(),{executionLogging:o,setExecutionLogging:a}=(0,Vn.EU)(),[c,d]=(0,l.useState)(!1);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(m.Ay,{disablePadding:!0,style:t,children:[(0,N.jsx)(pe,{style:{flexGrow:0},children:(0,N.jsx)(ye,{onClick:()=>d(!c),children:null===e.errors||0===e.errors.length?(0,N.jsx)(N.Fragment,{}):c?(0,N.jsx)(A.A,{fontSize:"small"}):(0,N.jsx)(j.A,{fontSize:"small"})})}),(0,N.jsx)(ve,{children:e.message}),e.executionLogging?(0,N.jsx)(je.A,{style:{cursor:"pointer"},onClick:()=>{e.executionLogging&&(a(o.setCurrent(e.executionLogging)),i(n=>n.setMainContainer(u.J3.ExecutionLogging)))},children:"view execution logging"}):(0,N.jsx)(N.Fragment,{}),(0,N.jsx)(be,{}),e.fileName?(0,N.jsx)(je.A,{style:{cursor:"pointer"},onClick:()=>{e.fileName&&(null===s||(0,C.VP)(s)||s.name===e.fileName)&&(e.lineNumber&&e.characterNumber&&r({lineNumber:e.lineNumber,column:e.characterNumber,source:"state"}),i(n=>n.setMainContainer(u.J3.Source)))},children:"view code"}):(0,N.jsx)(N.Fragment,{})]}),null!==e.errors&&c?(0,N.jsx)(x.A,{children:e.errors.map((n,e)=>(0,N.jsx)(m.Ay,{disablePadding:!0,children:n},e))}):(0,N.jsx)(N.Fragment,{})]})}const Ne=function(){const{testingLogging:n}=(0,Vn.EU)();if((0,C.VP)(n))return(0,N.jsx)(Ce,{children:(0,N.jsx)(v.A,{})});const e=n.map((n,e)=>(0,N.jsx)(Fe,{entry:n},e));return(0,N.jsx)(Ae,{disablePadding:!0,children:e})};var Ee,Se;const we=(0,c.Ay)(f.A)(Ee||(Ee=(0,s.A)(["\n  padding: 2px;\n"]))),Le=(0,c.Ay)(x.A)(Se||(Se=(0,s.A)(['\n  font-family: Menlo, Monaco, "Courier New", monospace;\n  font-size: 12px;\n'])));function Pe(n){const{currentFile:e}=(0,F.Om)(),{setEditorPosition:t}=(0,q.mi)(),{logEntry:r}=n;return(0,N.jsx)(m.Ay,{disablePadding:!0,onClick:function(){(null===e||(0,C.VP)(e)||e.name===r.fileName)&&t({lineNumber:r.lineNumber,column:r.characterNumber,source:"state"})},children:(0,N.jsx)(we,{style:r.isError?{color:"red"}:{},children:r.message})})}const ke=function(){const{currentFileLogging:n}=(0,F.Om)();if((0,C.VP)(n))return(0,N.jsx)(v.A,{});const e=[...n].sort((n,e)=>n.sortIndex<e.sortIndex?-1:1).map((n,e)=>(0,N.jsx)(Pe,{logEntry:n},e));return(0,N.jsx)(Le,{disablePadding:!0,children:e})};var ze,Ve,Oe;const Te=(0,c.Ay)(a.A)(ze||(ze=(0,s.A)(["\n  margin-top: 8px;\n  margin-bottom: 8px;\n"]))),Me=(0,c.Ay)(b.A)(Ve||(Ve=(0,s.A)(["\n  &:not(:last-child) {\n    margin-bottom: 24px;\n  }\n"]))),Be=(0,c.Ay)(fn.A)(Oe||(Oe=(0,s.A)(["\n  width: 100%;\n"])));function Je(n){function e(n,e){return!n||Yn(n)?(0,N.jsx)(a.A,{size:3,children:(0,N.jsx)(Me,{children:(0,N.jsx)(Be,{disabled:!0,label:e,variant:"outlined",value:null!==n?n:""})},e)},e):(0,N.jsx)(a.A,{size:12,children:(0,N.jsx)(En,{name:e,children:(0,N.jsx)(Je,{values:n})})},e)}const{values:t}=n,r=t?Object.keys(t):null;if(null===t||null===r||0===r.length)return(0,N.jsx)(Me,{children:"No variables defined"});const i=[];for(const s of r){const n=t[s];i.push(e(n,s))}return(0,N.jsx)(Te,{container:!0,spacing:2,children:i})}var Ie,Ue,We,De,Re,Ye;const _e=(0,c.Ay)(f.A)(Ie||(Ie=(0,s.A)(["\n  padding: 0;\n"]))),qe=(0,c.Ay)(h.A)(Ue||(Ue=(0,s.A)(["\n  padding: 0;\n  min-width: 30px\n"]))),Ge=(0,c.Ay)(Je)(We||(We=(0,s.A)(["\n  margin-bottom: 24px\n"]))),$e=(0,c.Ay)(yn.A)(De||(De=(0,s.A)(["\n  flex-grow: 1;\n"]))),He=(0,c.Ay)(m.Ay)(Re||(Re=(0,s.A)([""]))),Ke=(0,c.Ay)(m.Ay)(Ye||(Ye=(0,s.A)(["\n  color: darkgrey;\n"])));function Qe(n){function e(n){return null!==n&&Object.keys(n).length>0}function t(n){return(0,N.jsx)(m.Ay,{disablePadding:!0,style:i>0?{paddingLeft:n+"px"}:{},children:(0,N.jsxs)($e,{children:[e(r.readVariables)?(0,N.jsx)(Ge,{values:r.readVariables}):(0,N.jsx)(N.Fragment,{}),e(r.writeVariables)?(0,N.jsx)(Je,{values:r.writeVariables}):(0,N.jsx)(N.Fragment,{})]})})}const{entry:r,indent:i,parent:s,index:l}=n,o=[...s,l.toString()],a=[...s,l.toString(),"var"],{executionLoggingTreeState:c,setExecutionLoggingTreeState:d}=(0,Vn.EU)(),u=c.isOpen(o),x=c.isOpen(a),f="Parameters"===r.message||"Results"===r.message,h=e(r.readVariables)||e(r.writeVariables),p=r.entries.length>0||f&&h,y=r.message.startsWith("Execute:"),v=n=>d(c.setOpen(a,n));return f&&!h?(0,N.jsx)(N.Fragment,{}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(He,{disablePadding:!0,style:f?{color:"darkgray"}:{},children:(0,N.jsxs)(_e,{onClick:()=>{return n=!u,d(c.setOpen(o,n));var n},style:i>0?{paddingLeft:16*i+"px"}:{},children:[(0,N.jsx)(qe,{children:p?u?(0,N.jsx)(A.A,{fontSize:"small"}):(0,N.jsx)(j.A,{fontSize:"small"}):(0,N.jsx)(N.Fragment,{})}),(0,N.jsx)(g.A,{primaryTypographyProps:y?{fontWeight:600}:{},children:r.message})]})}),function(){if(f)return u?t(16*i+30):(0,N.jsx)(N.Fragment,{});if(!h)return(0,N.jsx)(N.Fragment,{});const n=16*i+60;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(Ke,{disablePadding:!0,children:(0,N.jsxs)(_e,{onClick:()=>v(!x),style:i>0?{paddingLeft:16*i+30+"px"}:{},children:[(0,N.jsx)(qe,{children:x?(0,N.jsx)(A.A,{fontSize:"small"}):(0,N.jsx)(j.A,{fontSize:"small"})}),"Variables"]})}),x?t(n):(0,N.jsx)(N.Fragment,{})]})}(),function(){const n=[];if(u&&r.entries)for(let e=0;e<r.entries.length;e++){const t=r.entries[e];t&&n.push((0,N.jsx)(Qe,{entry:t,indent:i+1,parent:o,index:e},e))}return n}()]})}const Xe=function(){const{executionLogging:n,setExecutionLoggingTreeState:e}=(0,Vn.EU)(),{currentFile:t}=(0,F.Om)();return(0,l.useEffect)(()=>{e(n=>n.reset().setOpen(["0"],!0))},[null===t||void 0===t?void 0:t.identifier,e]),(0,N.jsx)(x.A,{disablePadding:!0,children:function(){if(null===n)return(0,N.jsx)(b.A,{children:"No execution logging."});if((0,C.VP)(n))return(0,N.jsx)(v.A,{});const e=[];for(let t=0;t<n.logging.length;t++){const r=n.logging[t];null!==r&&e.push((0,N.jsx)(Qe,{entry:r,indent:0,parent:[],index:t},t))}return e}()})};var Ze,nt=t(65584),et=t(29285);const tt=(0,c.Ay)("div")(Ze||(Ze=(0,s.A)(["\n  padding: 4px 12px 8px 4px;\n"]))),rt="https://github.com/lexy-language/lexy-language/blob/main/";function it(){const{currentFileCode:n,setCurrentFile:e}=(0,F.Om)();const t={a:n=>n.href.startsWith(rt)?(0,N.jsx)("a",{href:"#top",onClick:()=>function(n){const t="Lexy|".concat(n.substring(57).replaceAll("/","|"));e({name:t,identifier:t})}(n.href),children:n.children}):(0,N.jsx)("a",{href:n.href,children:n.children})};return(0,l.useEffect)(()=>{const n=document.querySelector(".markdown-body");null===n||void 0===n||n.scrollIntoView({behavior:"smooth"},200)},[n]),(0,C.VP)(n)?(0,N.jsx)(v.A,{size:200}):(0,N.jsx)(tt,{children:(0,N.jsx)(nt.oz,{className:"markdown-body",components:t,remarkPlugins:[et.A],children:null===n||void 0===n?void 0:n.code})})}var st,lt,ot,at,ct,dt,ut=t(8738),xt=t(89626);const mt=(0,c.Ay)(a.A)(st||(st=(0,s.A)(["\n  height: calc(100% - 264px);\n"]))),ft=(0,c.Ay)(a.A)(lt||(lt=(0,s.A)(["\n  height: 100%;\n  padding: 8px;\n"]))),ht=(0,c.Ay)(a.A)(ot||(ot=(0,s.A)(["\n  height: 200px;\n  padding: 0 8px 8px;\n"]))),gt=(0,c.Ay)(o.A)(at||(at=(0,s.A)(["\n  height: 100%;\n  padding: 8px;\n  overflow-y: auto;\n"]))),jt=(0,c.Ay)(b.A)(ct||(ct=(0,s.A)(["\n  height: calc(100% - 44px);\n  padding: 0;\n  overflow-y: auto;\n"]))),At=(0,c.Ay)(b.A)(dt||(dt=(0,s.A)(["\n  height: 44px;\n  padding: 8px 0 0;\n"])));function pt(n,e,t){return(0,N.jsx)(At,{children:n.map((n,r)=>(0,N.jsx)(d.A,{variant:n.value===e?"contained":"text",onClick:()=>t(n.value),children:n.name},"option-"+r))})}function yt(n,e){var t;return(0,N.jsx)(jt,{children:null===(t=n.find(n=>n.value===e))||void 0===t?void 0:t.element()})}const vt=function(){const{layout:n,setLayout:e}=(0,q.mi)(),{currentFileCode:t}=(0,F.Om)(),{testingLogging:r}=(0,Vn.EU)(),[i,s]=(0,l.useState)(!1),o=[{name:"Explorer",value:u.RN.Explorer,element:()=>(0,N.jsx)(P,{})},{name:"Structure",value:u.RN.Structure,element:()=>(0,N.jsx)(nn,{})}],a=[{name:"View",value:u.J3.View,element:()=>(0,N.jsx)(it,{})},{name:"Source Code",value:u.J3.Source,element:()=>(0,N.jsx)(sn,{})},{name:"Execution Logging",value:u.J3.ExecutionLogging,element:()=>(0,N.jsx)(Xe,{})}],c=n=>[{name:"Compilation Logging",value:u.hw.Logging,element:()=>(0,N.jsx)(ke,{})},{name:(0,N.jsxs)(N.Fragment,{children:["Test Logging ",n]}),value:u.hw.Testing,element:()=>(0,N.jsx)(Ne,{})}];function d(n){return t=>e(e=>n(e,t))}const x=null!==t&&!(0,C.VP)(t)&&t.identifier.endsWith(".md");i!==x&&s(x);const m=function(){if(!r)return(0,N.jsx)(N.Fragment,{});if((0,C.VP)(r))return(0,N.jsx)(xt.A,{fontSize:"small",sx:{animation:"spin 2s linear infinite","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}});const n=(0,tn.count)(r,n=>!n.isError&&null!==n.nodeName),e=(0,tn.count)(r,n=>null!==n.nodeName);return(0,N.jsxs)(N.Fragment,{children:[" (",n,"/",e,")"]})}(),f=x?a:a.splice(1),h=x||n.mainContainer!==u.J3.View?n.mainContainer:u.J3.Source;return(0,l.useEffect)(()=>{x&&n.mainContainer!==u.J3.View&&e(n=>n.setMainContainer(u.J3.View))},[i]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(mt,{container:!0,style:ut.Bd?{}:{height:"calc(100% - 64px)"},children:[ut.Bd?(0,N.jsx)(ft,{size:3,children:(0,N.jsxs)(gt,{children:[yt(o,n.leftContainer),pt(o,n.leftContainer,d((n,e)=>n.setLeftContainer(e)))]})}):(0,N.jsx)(N.Fragment,{}),(0,N.jsx)(ft,{size:ut.Bd?6:12,children:(0,N.jsxs)(gt,{children:[yt(f,h),pt(f,h,d((n,e)=>n.setMainContainer(e)))]})}),ut.Bd?(0,N.jsx)(ft,{size:3,children:(0,N.jsx)(gt,{children:(0,N.jsx)(jt,{children:(0,N.jsx)(de,{})})})}):(0,N.jsx)(N.Fragment,{})]}),ut.Bd?(0,N.jsx)(ht,{children:(0,N.jsxs)(gt,{children:[yt(c(m),n.bottomContainer),pt(c(m),n.bottomContainer,d((n,e)=>n.setBottomContainer(e)))]})}):(0,N.jsx)(N.Fragment,{})]})}}}]);
//# sourceMappingURL=9461.a26581ae.chunk.js.map