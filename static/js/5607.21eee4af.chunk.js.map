{"version":3,"file":"static/js/5607.21eee4af.chunk.js","mappings":"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","sources":["editor/explorer/Explorer.tsx","editor/structure/TreeNode.tsx","editor/structure/Structure.tsx","editor/sourceEditor/SourceEditor.tsx","editor/indentFields/IndentFields.tsx","editor/runFunction/ParameterField.tsx","editor/runFunction/ParameterFields.tsx","infrastructure/isValueType.ts","editor/runFunction/ResultFields.tsx","infrastructure/dateFunctions.ts","editor/runFunction/RunFunction.tsx","editor/testing/Testing.tsx","editor/logging/Logging.tsx","editor/executionLogging/Variables.tsx","editor/executionLogging/LogEntry.tsx","editor/executionLogging/ExecutionLogging.tsx","editor/viewEditor/ViewEditor.tsx","editor/editorPage/EditorPage.tsx"],"sourcesContent":["import React from 'react';\nimport {useContext} from '../../context/editorContext';\nimport {ProjectFile, ProjectFolder} from \"../../api/project\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport KeyboardArrowRightIcon from '@mui/icons-material/KeyboardArrowRight';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport FolderIcon from '@mui/icons-material/Folder';\nimport InsertDriveFileIcon from '@mui/icons-material/InsertDriveFile';\nimport {CircularProgress, styled} from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport {isLoading} from \"../../context/loading\";\n\nconst indentValue = 16;\nconst fileIndentValue = 30;\n\nconst NoPaddingListItemButton = styled(ListItemButton)`\n  padding: 0;\n`;\n\nconst NoPaddingListItemIcon = styled(ListItemIcon)`\n  padding: 0;\n  min-width: 30px\n`;\n\nfunction FolderItem(props: {folder: ProjectFolder, currentFile: ProjectFile | null, indent: number, parent: Array<string>}) {\n\n  const {folder, currentFile, indent, parent} = props;\n  const path = [...parent, folder.name];\n  const {projectFilesTreeState, setProjectFilesTreeState} = useContext();\n  const open = projectFilesTreeState.isOpen(path);\n  const setOpen = (value: boolean) => setProjectFilesTreeState(projectFilesTreeState.setOpen(path, value));\n\n  return (\n    <>\n      <ListItem disablePadding>\n        <NoPaddingListItemButton style={indent > 0 ? ({marginLeft: (indentValue * indent) + 'px'}) : ({})}>\n          <NoPaddingListItemIcon onClick={() => setOpen(!open)}>\n            {open ? <KeyboardArrowDownIcon fontSize={\"small\"} /> : <KeyboardArrowRightIcon fontSize={\"small\"} />}\n          </NoPaddingListItemIcon>\n          <NoPaddingListItemIcon>\n            <FolderIcon fontSize={\"small\"} />\n          </NoPaddingListItemIcon>\n          <ListItemText primary={folder.name}/>\n        </NoPaddingListItemButton>\n      </ListItem>\n      {open && folder.folders ? folder.folders.map(folder => <FolderItem key={folder.name} folder={folder}\n                                                                         indent={indent + 1}\n                                                                         currentFile={currentFile}\n                                                                         parent={path} />) : []}\n      {open && folder.files ? folder.files.map(file => <FileItem key={file.name} file={file}\n                                                                 indent={indent + 1}\n                                                                 currentFile={currentFile} />) : []}\n    </>\n  );\n}\n\nfunction FileItem(props: {file: ProjectFile, currentFile: ProjectFile | null, indent: number}) {\n\n  const {file, currentFile, indent} = props;\n  const {setCurrentFile} = useContext();\n\n  return (\n    <ListItem disablePadding onClick={() => setCurrentFile(file)} style={currentFile === file ? {background: '#EEE'} : {}}>\n      <NoPaddingListItemButton\n        style={indent > 0 ? ({paddingLeft: fileIndentValue + (indentValue * indent) + 'px'}) : ({})}>\n        <NoPaddingListItemIcon>\n          <InsertDriveFileIcon fontSize={\"small\"} />\n        </NoPaddingListItemIcon>\n        <ListItemText primary={file.name}/>\n      </NoPaddingListItemButton>\n    </ListItem>\n  );\n}\n\nfunction Explorer() {\n\n  const {projectFiles, currentFile} = useContext();\n\n  function content() {\n    if (projectFiles === null) {\n      return <Box>No project loaded.</Box>;\n    }\n    if (isLoading(projectFiles)) {\n      return <CircularProgress/>;\n    }\n    return <FolderItem folder={projectFiles as ProjectFolder} indent={0} currentFile={currentFile} parent={[]}/>;\n  }\n\n  return (\n    <List disablePadding>\n      {content()}\n    </List>\n  );\n}\n\nexport default Explorer;\n","import {NodeKind, StructureNode} from \"../../context/structure\";\nimport CodeIcon from \"@mui/icons-material/Code\";\nimport RuleIcon from \"@mui/icons-material/Rule\";\nimport GridOnIcon from \"@mui/icons-material/GridOn\";\nimport ListIcon from \"@mui/icons-material/List\";\nimport FormatListNumberedIcon from \"@mui/icons-material/FormatListNumbered\";\nimport DateRangeIcon from \"@mui/icons-material/DateRange\";\nimport ErrorIcon from \"@mui/icons-material/Error\";\nimport TagIcon from \"@mui/icons-material/Tag\";\nimport MoneyIcon from \"@mui/icons-material/Money\";\nimport FormatQuoteIcon from \"@mui/icons-material/FormatQuote\";\nimport QuestionMarkIcon from \"@mui/icons-material/QuestionMark\";\nimport React from \"react\";\nimport {NodeType} from \"lexy/dist/language/nodeType\";\nimport {useContext} from \"../../context/editorContext\";\nimport {Menu, MenuItem, styled} from \"@mui/material\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport PlayArrowIcon from \"@mui/icons-material/PlayArrow\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport ListItem from \"@mui/material/ListItem\";\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\nimport KeyboardArrowRightIcon from \"@mui/icons-material/KeyboardArrowRight\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport {MainContainer} from \"../../context/layoutState\";\n\nconst indentValue = 16;\n\nconst NoPaddingListItemButton = styled(ListItemButton)`\n  padding: 0;\n`;\n\nconst NoPaddingListItemIcon = styled(ListItemIcon)`\n  padding: 0;\n  min-width: 30px\n`;\n\ntype TreeNodeProps = {\n  node: StructureNode,\n  indent: number,\n  parent: Array<string>\n}\n\nexport function TreeNode(props: TreeNodeProps) {\n\n  function icon(type: NodeKind) {\n    switch (type) {\n      case NodeKind.Code:\n      case NodeKind.Function:\n        return <CodeIcon fontSize=\"small\"/>;\n\n      case NodeKind.Scenario:\n        return <RuleIcon fontSize=\"small\"/>;\n      case NodeKind.Table:\n        return <GridOnIcon fontSize=\"small\"/>;\n\n      case NodeKind.Results:\n      case NodeKind.Parameters:\n      case NodeKind.Type:\n        return <ListIcon fontSize=\"small\"/>;\n\n      case NodeKind.Enum:\n        return <FormatListNumberedIcon fontSize=\"small\"/>;\n\n      case NodeKind.Date:\n        return <DateRangeIcon fontSize=\"small\"/>;\n\n      case NodeKind.Errors:\n        return <ErrorIcon fontSize=\"small\"/>;\n\n      case NodeKind.EnumMember:\n      case NodeKind.Number:\n        return <TagIcon fontSize=\"small\"/>;\n\n      case NodeKind.Boolean:\n        return <MoneyIcon/>;\n\n      case NodeKind.String:\n        return <FormatQuoteIcon fontSize=\"small\"/>;\n\n      case NodeKind.Unknown:\n      default:\n        return <QuestionMarkIcon fontSize=\"small\"/>;\n    }\n  }\n\n  function onClick(event: React.MouseEvent<HTMLLIElement>) {\n    setEditorPosition({\n      lineNumber: node.reference.lineNumber,\n      column: node.reference.characterNumber,\n      source: \"state\"\n    });\n    setLayout(layout => layout.setMainContainer(MainContainer.Source));\n    setCurrentStructureNode(node);\n    if (event.type === 'contextmenu') {\n      setAnchorEl(event.currentTarget);\n      event.preventDefault();\n    }\n  }\n\n  function handleCloseMenu() {\n    setAnchorEl(null);\n  }\n\n  function renderMenuItems() {\n    if (node.nodeType !== NodeType.Function) return [];\n\n    const handleClickMenu = () => {\n      handleCloseMenu();\n    };\n\n    return [\n      <MenuItem onClick={handleClickMenu} key=\"execute\">\n        <ListItemIcon>\n          <PlayArrowIcon fontSize=\"small\"/>\n        </ListItemIcon>\n        <ListItemText>Execute</ListItemText>\n      </MenuItem>\n    ];\n  }\n\n  function renderChildren() {\n    const children = [];\n    if (openChildren && node.children) {\n      for (let index = 0; index < node.children.length; index++) {\n        const structureNode: StructureNode = node.children[index];\n        if (!!structureNode) {\n          children.push(<TreeNode node={structureNode} indent={indent + 1} key={structureNode.name} parent={path}/>);\n        }\n      }\n    }\n    return children;\n  }\n\n  const {node, indent, parent} = props;\n  const path = [...parent, node.name];\n  const {\n    setEditorPosition,\n    setLayout,\n    structureTreeState,\n    setStructureTreeState,\n    currentStructureNode,\n    setCurrentStructureNode,\n  } = useContext();\n  const openChildren = structureTreeState.isOpen(path);\n  const setOpenChildren = (value: boolean) => setStructureTreeState(structureTreeState.setOpen(path, value));\n\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const openMenu = Boolean(anchorEl);\n  const menuItems = renderMenuItems();\n  const children = renderChildren();\n\n  return (\n    <>\n      <ListItem disablePadding onClick={onClick} onContextMenu={onClick}\n                style={currentStructureNode === node ? {background: '#EEE'} : {}}>\n        <NoPaddingListItemButton onClick={() => setOpenChildren(!openChildren)}\n                                 style={indent > 0 ? ({paddingLeft: (indentValue * indent) + 'px'}) : ({})}>\n          <NoPaddingListItemIcon>\n            {node.children.length === 0 ? <></>\n              : openChildren ? <KeyboardArrowDownIcon fontSize=\"small\"/> : <KeyboardArrowRightIcon fontSize=\"small\"/>}\n          </NoPaddingListItemIcon>\n          <NoPaddingListItemIcon>\n            {icon(node.kind)}\n          </NoPaddingListItemIcon>\n          <ListItemText primary={node.name}/>\n        </NoPaddingListItemButton>\n      </ListItem>\n      {children}\n      <Menu\n        anchorEl={anchorEl}\n        open={menuItems.length > 0 && openMenu}\n        onClose={handleCloseMenu}\n        MenuListProps={{\n          'aria-labelledby': 'basic-button',\n        }}\n      >\n        {menuItems}\n      </Menu>\n    </>\n  );\n}","import React from 'react';\nimport {useContext} from '../../context/editorContext';\nimport List from \"@mui/material/List\";\nimport {CircularProgress} from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport {isLoading} from \"../../context/loading\";\nimport {TreeNode} from \"./TreeNode\";\n\nfunction Structure() {\n\n  const {structure} = useContext();\n\n  function content() {\n\n    if (structure === null) {\n      return <Box>No structure.</Box>;\n    }\n\n    if (isLoading(structure)) {\n      return <CircularProgress/>;\n    }\n\n    const result = [];\n    for (let index = 0 ; index < structure.length ; index ++) {\n      const node = structure[index];\n      if (node !== null) {\n        result.push(<TreeNode node={node} indent={0} key={index} parent={[]}/>);\n      }\n    }\n    return result;\n  }\n\n  return (\n    <List disablePadding>\n      {content()}\n    </List>\n  );\n}\n\nexport default Structure;\n","import React, {useEffect, useRef, useState} from 'react';\nimport MonacoEditor from '@monaco-editor/react';\nimport {CircularProgress} from \"@mui/material\";\nimport {useContext} from \"../../context/editorContext\";\nimport {useMonaco} from \"@monaco-editor/react\"\nimport {isLoading} from \"../../context/loading\";\nimport {editor} from \"monaco-editor\";\nimport Box from \"@mui/material/Box\";\nimport IStandaloneCodeEditor = editor.IStandaloneCodeEditor;\nimport {where} from \"lexy/dist/infrastructure/arrayFunctions\";\nimport IStandaloneEditorConstructionOptions = editor.IStandaloneEditorConstructionOptions;\n\nconst space = ' '.charCodeAt(0);\nconst languageId = 'lexy';\n\nexport default function SourceEditor() {\n\n  const monaco = useMonaco();\n  const editorRef = useRef<IStandaloneCodeEditor | null>(null);\n  const {\n    currentFileCode,\n    setCurrentFileCode,\n    setCurrentProject,\n    currentFileLogging,\n    editorPosition,\n    setEditorPosition\n  } = useContext();\n  const [editorMounted, setEditorMounted] = useState(false);\n\n  function initializeMonaco(){\n    if (!monaco) return;\n    monaco.languages.register({id: languageId});\n    /* not yet working, using YAML for now\n    monaco.languages.registerTokensProviderFactory(languageId, {\n      create: () => language\n    });\n    monaco.languages.setLanguageConfiguration(languageId, conf); */\n  }\n\n  function showEditorPosition() {\n    if (!editorRef.current || editorPosition === null || editorPosition.source === \"editor\") return;\n\n    editorRef.current?.setPosition({\n      lineNumber: editorPosition.lineNumber,\n      column: editorPosition.column\n    });\n    editorRef.current?.revealLineInCenter(editorPosition.lineNumber);\n    editorRef.current?.focus()\n  }\n\n  function showCode() {\n    if (editorRef.current === null || currentFileCode === null || isLoading(currentFileCode) || currentFileCode.source === \"editor\") return;\n    editorRef.current?.setValue(currentFileCode.code);\n    editorRef.current?.revealLine(1);\n  }\n\n  function initializeEditorContent() {\n    if (!editorRef.current || currentFileCode === null || isLoading(currentFileCode)) return;\n    editorRef.current?.setValue(currentFileCode.code);\n    editorRef.current?.revealLine(1);\n    showMarkers();\n  }\n\n  function getEndOfToken(lineContent: string, characterNumber: number): number {\n    for (let index = characterNumber+1; index < lineContent.length ; index ++) {\n      const value = lineContent.charCodeAt(index);\n      if (value === space) return index;\n    }\n    return lineContent.length;\n  }\n\n  function handleEditorChange(value: string | undefined, second: any) {\n    if (!value) return;\n    if (!currentFileCode || isLoading(currentFileCode)) return;\n    if (currentFileCode.code === value) return;\n\n    let details = {name: currentFileCode.name, identifier: currentFileCode.identifier, code: value, source: \"editor\"};\n    setCurrentFileCode(details);\n\n    setCurrentProject(state => {\n      return state.setFile(details.identifier, value);\n    });\n  }\n\n  function handleEditorDidMount(editor: IStandaloneCodeEditor){\n    editorRef.current = editor;\n    editorRef.current?.updateOptions({\n      scrollbar: {\n        horizontal: \"hidden\"\n      }\n    });\n    setEditorMounted(true);\n\n    editor.onDidChangeCursorPosition(event => {\n      setEditorPosition({\n        lineNumber: event.position.lineNumber,\n        column: event.position.column,\n        source: \"editor\"\n      });\n    });\n\n    const model = editorRef.current?.getModel();\n    if (model === null) return;\n    model.updateOptions({tabSize: 2, indentSize: 2});\n  }\n\n  function showMarkers() {\n    if (!editorRef.current) return;\n    if (currentFileLogging === null || isLoading(currentFileLogging) || monaco === null) return;\n    if (currentFileCode === null || isLoading(currentFileCode)) return;\n\n    const model = editorRef.current?.getModel();\n    if (model === null) return;\n\n    const markers = where(currentFileLogging, entry => entry.isError && currentFileCode.name === entry.reference.file.fileName)\n      .map(entry => {\n        const lineContent = entry.reference.lineNumber > 0 && entry.reference.lineNumber <= model.getLineCount() ? model.getLineContent(entry.reference.lineNumber) : null;\n        const column = lineContent ? getEndOfToken(lineContent, entry.reference.characterNumber) : 1;\n        return {\n          message: entry.message,\n          severity: monaco.MarkerSeverity.Error,\n          startLineNumber: entry.reference.lineNumber,\n          startColumn: entry.reference.characterNumber,\n          endLineNumber: entry.reference.lineNumber,\n          endColumn: column + 1,\n        }\n      });\n\n    monaco.editor.setModelMarkers(model, \"owner\", markers);\n  }\n\n  useEffect(initializeMonaco, [monaco]);\n  useEffect(showEditorPosition, [editorPosition]);\n  useEffect(showCode, [currentFileCode]);\n  useEffect(showMarkers, [currentFileLogging, monaco, currentFileCode])\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(initializeEditorContent, [editorMounted])\n\n  if (!currentFileCode) {\n    return <Box>No file selected</Box>;\n  }\n\n  if (isLoading(currentFileCode)) {\n    return <CircularProgress/>;\n  }\n\n  const options: IStandaloneEditorConstructionOptions = {\n    scrollbar: {\n      horizontal: \"hidden\"\n    },\n    minimap: {\n      enabled: false,\n    },\n    wordWrap: \"on\"\n  };\n  const language = currentFileCode?.identifier.endsWith(\"lexy\") ? \"yaml\" : undefined;\n\n  return <MonacoEditor language={language} theme={\"lexy-theme\"}\n                       onChange={handleEditorChange} onMount={handleEditorDidMount}\n                       options={options} />\n}","import React from 'react';\nimport {styled} from \"@mui/material/styles\";\nimport Stack from \"@mui/material/Stack\";\nimport Typography from \"@mui/material/Typography\";\n\nconst Indent = styled('div')`\n  width: 16px;\n  border-left: 2px solid #BBB;\n`;\n\nconst PaddingTop = styled('div')`\n  padding-top: 24px;\n  width: 100%;\n`;\n\nconst CustomTypeBox = styled('div')`\n  width: 100%;\n  margin-bottom: 24px;\n`;\n\nconst FullWidthStack = styled(Stack)`\n  width: 100%;\n`;\n\ntype IndentFieldsProps = {\n  name: string;\n  title?: boolean;\n  children: React.ReactNode;\n}\n\nexport default function IndentFields(props: IndentFieldsProps) {\n\n  const {name, title = false, children} = props;\n\n  return <CustomTypeBox key={name}>\n    <Typography variant=\"subtitle1\" fontWeight={title ? \"bolder\" : 'normal'} fontSize={title ? '1.3rem' : '1rem'}>\n      {name}\n    </Typography>\n    <FullWidthStack direction=\"row\">\n      <Indent/>\n      <PaddingTop>\n        {children}\n      </PaddingTop>\n    </FullWidthStack>\n  </CustomTypeBox>\n}\n","import React from 'react';\nimport {\n  Checkbox,\n  FormControl, FormControlLabel,\n  InputLabel, MenuItem, Select,\n  TextField,\n} from \"@mui/material\";\nimport {useContext} from \"../../context/editorContext\";\nimport {styled} from \"@mui/material/styles\";\nimport {VariableDefinition} from \"lexy/dist/language/variableDefinition\";\nimport {TypeNames} from \"lexy/dist/language/variableTypes/typeNames\";\nimport {VariableTypeName} from \"lexy/dist/language/variableTypes/variableTypeName\";\nimport {asPrimitiveType} from \"lexy/dist/language/variableTypes/primitiveType\";\nimport {DatePicker, LocalizationProvider} from \"@mui/x-date-pickers\";\nimport {AdapterDateFns} from \"@mui/x-date-pickers/AdapterDateFnsV3\";\nimport {Assert} from \"lexy\";\nimport {asEnumType} from \"lexy/dist/language/variableTypes/enumType\";\nimport ParameterFields from \"./ParameterFields\";\nimport IndentFields from \"../indentFields/IndentFields\";\nimport {IdentifierPath} from \"lexy/dist/language/identifierPath\";\nimport Box from \"@mui/material/Box\";\nimport {asDeclaredType} from \"lexy/dist/language/variableTypes/declaredType\";\n\nconst ParameterTextField = styled(TextField)`\n  width: 100%;\n`;\n\nconst ParameterSelect = styled(Select)`\n  width: 100%;\n`;\n\nconst ParameterDatePicker = styled(DatePicker)`\n  width: 100%;\n`;\n\nconst FieldBox = styled(Box)`\n  &:not(:last-child) {\n    margin-bottom: 24px;\n  }\n`;\n\ntype ParameterFieldProps = {\n  parent?: IdentifierPath\n  parameter: VariableDefinition;\n}\n\nexport default function ParameterField(props: ParameterFieldProps) {\n\n  const {parameter, parent} = props;\n  const {executeFunction, setExecuteFunction} = useContext();\n  const path = !!parent ? parent.append([parameter.name]) : new IdentifierPath([parameter.name]);\n\n  function enumValueChanged(event: any) {\n    return setExecuteFunction(executeFunction.setParameter(path, event.target.value));\n  }\n\n  function dateValueChanged(value: any) {\n    setExecuteFunction(executeFunction.setParameter(path, value));\n  }\n\n  function stringValueChanged(event: any) {\n    setExecuteFunction(executeFunction.setParameter(path, event.target.value));\n  }\n\n  function booleanValueChanged(event: any) {\n    setExecuteFunction(executeFunction.setParameter(path, event.target.checked));\n  }\n\n  function numberValueChanged(event: any) {\n    setExecuteFunction(executeFunction.setParameter(path, parseInt(event.target.value)));\n  }\n\n  function getParameterOrDefault() {\n    let value = executeFunction.getParameter(path);\n    if (value === undefined) {\n      value = \"\";\n    }\n    return value;\n  }\n\n  function renderPrimitiveType() {\n    const primitiveType = Assert.notNull(asPrimitiveType(parameter.variableType), \"primitiveType\");\n    if (primitiveType.type === TypeNames.string) {\n      const value = getParameterOrDefault();\n      return <ParameterTextField label={parameter.name} variant=\"outlined\"\n                                 value={value} onChange={stringValueChanged}/>;\n    }\n    if (primitiveType.type === TypeNames.number) {\n      const value = getParameterOrDefault();\n      return <ParameterTextField label={parameter.name} variant=\"outlined\"\n                                 type=\"number\"\n                                 value={!!value ? value : ''} onChange={numberValueChanged}/>;\n    }\n    if (primitiveType.type === TypeNames.boolean) {\n      const value = getParameterOrDefault();\n      return <FormControlLabel control={<Checkbox value={value} onChange={booleanValueChanged}/>}\n                               label={parameter.name}/>\n    }\n    if (primitiveType.type === TypeNames.date) {\n      const value = getParameterOrDefault();\n      return <LocalizationProvider dateAdapter={AdapterDateFns}>\n        <ParameterDatePicker label={parameter.name} value={value} onChange={dateValueChanged}\n                             format=\"yyyy/MM/dd\"/>\n      </LocalizationProvider>;\n    }\n\n    return <div>Unknown primitive type: {primitiveType.type}</div>\n  }\n\n  function renderEnumType() {\n    const enumType = Assert.notNull(asEnumType(parameter.variableType), \"enumType\");\n    const value = getParameterOrDefault();\n    return <FormControl fullWidth>\n      <InputLabel id={\"label-select-\" + parameter.name}>{parameter.name}</InputLabel>\n      <ParameterSelect labelId={\"label-select-\" + parameter.name}\n                       value={value} label={parameter.name} onChange={enumValueChanged}>\n        {enumType.enum.members.map((member, index) =>\n          <MenuItem key={index} value={`${enumType.type}.${member.name}`}>{member.name}</MenuItem>)}\n      </ParameterSelect>\n    </FormControl>\n  }\n\n  function renderCustomType() {\n    const declaredType = Assert.notNull(asDeclaredType(parameter.variableType), \"enumType\");\n    const variables = declaredType.typeDefinition.variables;\n    return <IndentFields name={parameter.name}>\n      <ParameterFields variables={variables} parent={path}/>\n    </IndentFields>;\n  }\n\n  switch (parameter.variableType?.variableTypeName) {\n    case VariableTypeName.PrimitiveType:\n      return <FieldBox>{renderPrimitiveType()}</FieldBox>;\n    case VariableTypeName.EnumType:\n      return <FieldBox>{renderEnumType()}</FieldBox>;\n    case VariableTypeName.DeclaredType:\n      return renderCustomType();\n    default:\n      return <div>Unknown type: {parameter.name}</div>\n  }\n}","import React from 'react';\nimport Box from \"@mui/material/Box\";\nimport {styled} from \"@mui/material/styles\";\nimport ParameterField from \"./ParameterField\";\nimport {VariableDefinition} from \"lexy/dist/language/variableDefinition\";\nimport Stack from \"@mui/material/Stack\";\nimport {IdentifierPath} from \"lexy/dist/language/identifierPath\";\n\nconst FullWidthStack = styled(Stack)`\n  width: 100%;\n`;\n\nconst FieldBox = styled(Box)`\n  margin-bottom: 24px;\n`;\n\ntype ParameterFieldsProps = {\n  parent?: IdentifierPath;\n  variables: ReadonlyArray<VariableDefinition> | null | undefined;\n}\n\nexport default function ParameterFields(props: ParameterFieldsProps) {\n  const {variables, parent} = props;\n  if (!variables || variables.length === 0) return <FieldBox>No parameter variables defined</FieldBox>;\n\n  const elements: Array<JSX.Element> = [];\n  for (let index = 0; index < variables.length; index++) {\n    const parameter = variables[index];\n    elements.push(<ParameterField key={index} parameter={parameter} parent={parent}/>);\n  }\n\n  return <FullWidthStack>\n    {elements}\n  </FullWidthStack>;\n}","export function isValueType(value: any) {\n  return typeof value === 'number'\n    || typeof value === 'string'\n    || value instanceof String\n    || value instanceof Date\n    || toString.call(value) === '[object Boolean]';\n}","import React from 'react';\nimport Box from \"@mui/material/Box\";\nimport {styled} from \"@mui/material/styles\";\nimport Stack from \"@mui/material/Stack\";\nimport {TextField} from \"@mui/material\";\nimport IndentFields from \"../indentFields/IndentFields\";\nimport {isValueType} from \"../../infrastructure/isValueType\";\n\nconst FullWidthStack = styled(Stack)`\n  width: 100%;\n`;\n\nconst FieldBox = styled(Box)`\n  &:not(:last-child) {\n    margin-bottom: 24px;\n  }\n`;\n\nconst ResultsTextField = styled(TextField)`\n  width: 100%;\n`;\n\ntype ResultFieldsProps = {\n  values: any;\n};\n\nexport default function ResultFields(props: ResultFieldsProps) {\n\n  function renderField(value: any, resultKey: string) {\n    if (value === null || isValueType((value))) {\n      return <FieldBox key={resultKey}>\n        <ResultsTextField disabled label={resultKey} variant=\"outlined\" value={value !== null ? value : \"\"}/>\n      </FieldBox>;\n    } else {\n      return <IndentFields key={resultKey} name={resultKey}>\n        <ResultFields values={value}/>\n      </IndentFields>;\n    }\n  }\n\n  const {values} = props;\n  const keys = values !== null ? Object.keys(values) : null;\n  if (values === null || keys === null || keys.length === 0) {\n    return <FieldBox>No result variables defined</FieldBox>;\n  }\n\n  const elements: Array<JSX.Element> = [];\n  for (const resultKey of keys) {\n    const value = values[resultKey];\n    elements.push(renderField(value, resultKey));\n  }\n\n  return <FullWidthStack>{elements}</FullWidthStack>;\n}","import Decimal from \"decimal.js\";\n\nfunction differenceInMilliseconds(laterDate: Date, earlierDate: Date): Decimal {\n  return Decimal(+laterDate - +earlierDate);\n}\n\nexport function milliseconds(end: Date, start: Date): Decimal {\n  return differenceInMilliseconds(end, start);\n}\n","import React, {useEffect} from 'react';\nimport Box from \"@mui/material/Box\";\nimport {\n  Button,\n  CircularProgress,\n  FormControl,\n  FormGroup, InputLabel, MenuItem, Select,\n  SelectChangeEvent,\n} from \"@mui/material\";\nimport {useContext} from \"../../context/editorContext\";\nimport {isLoading} from \"../../context/loading\";\nimport {StructureNode} from \"../../context/structure\";\nimport {Function} from \"lexy/dist/language/functions/function\";\nimport {styled} from \"@mui/material/styles\";\nimport {NodeType} from \"lexy/dist/language/nodeType\";\nimport {compileNodes} from \"../../api/parser\";\nimport {Scenario} from \"lexy/dist/language/scenarios/scenario\";\nimport ParameterFields from \"./ParameterFields\";\nimport ResultFields from \"./ResultFields\";\nimport IndentFields from \"../indentFields/IndentFields\";\nimport {DependencyGraphFactory} from \"lexy/dist/dependencyGraph/dependencyGraphFactory\";\nimport {milliseconds} from \"../../infrastructure/dateFunctions\";\n\nconst MainBox = styled(Box)`\n  padding: 16px 8px;\n`;\n\nconst SelectBox = styled(Box)`\n  margin-bottom: 24px;\n`;\n\nconst ExecuteButton = styled(Button)`\n  width: 100%;\n  margin-top: 24px;\n`;\n\nconst Feedback = styled(Box)`\n  margin-top: 2px;\n  margin-bottom: 24px;\n  font-size: .8rem;\n`;\n\nconst Error = styled(Box)`\n  margin-top: 8px;\n  margin-bottom: 24px;\n  font-size: 1rem;\n  color: crimson;\n`;\n\nfunction RunFunction() {\n\n  function renderError() {\n    if (executeFunction === null || !executeFunction.error) return [];\n    return <Error>\n      {executeFunction.error.split('\\n').map((value, index) => <div key={index}>{value}</div>)}\n    </Error>;\n  }\n\n  function execute() {\n    if (isLoading(nodes)) return;\n\n    const node = currentStructureNode as StructureNode;\n    const functionNode = getFunctionNode(node);\n    if (functionNode === null) {\n      setExecuteFunction(executeFunction.setError(`Couldn't find function: '${node?.name}'`))\n      return;\n    }\n\n    const startTime = new Date();\n    try {\n      const functionAndDependencies = DependencyGraphFactory.nodeAndDependencies(nodes, functionNode);\n      const result = compileNodes(functionAndDependencies)\n      const executable = result.getFunction(functionNode);\n      const parameters = executeFunction.getParameters();\n      const results = executable.run(parameters);\n      const elapsed = milliseconds(new Date(), startTime).toNumber();\n      setExecutionLogging(executionLogging.setCurrent(results.logging));\n      setExecuteFunction(executeFunction.setResults(results.value, elapsed));\n    } catch (error: any) {\n      setExecuteFunction(executeFunction.setError(error.toString()))\n    }\n  }\n\n  const {\n    structure,\n    currentStructureNode,\n    setCurrentStructureNode,\n    executeFunction,\n    setExecuteFunction,\n    executionLogging,\n    setExecutionLogging,\n    nodes\n  } = useContext();\n\n  useEffect(() => {\n    if (structure === null) return;\n\n    for (const node of structure) {\n      const functionNode = getFunctionNode(node);\n      if (functionNode !== null) {\n        setCurrentStructureNode(node);\n        return;\n      }\n    }\n    setCurrentStructureNode(null);\n  }, [structure, setCurrentStructureNode])\n\n  if (isLoading(currentStructureNode)) {\n    return <CircularProgress/>;\n  }\n\n  function getFunctionNode(node: StructureNode | null): Function | null {\n    return node === null\n      ? null\n      : node.nodeType === NodeType.Function\n        ? node.node as Function\n        : node.nodeType === NodeType.Scenario\n          ? (node.node as Scenario).functionNode\n          : null;\n  }\n\n  function content() {\n    if (node === null || functionNode === null) {\n      return <Box>Select function to execute it.</Box>\n    }\n    const results = executeFunction.getResults();\n\n    return <FormGroup>\n      <IndentFields name={\"Parameters\"} title={true}>\n        <ParameterFields variables={functionNode.parameters?.variables} />\n      </IndentFields>\n      <ExecuteButton variant=\"contained\" onClick={execute}>Execute</ExecuteButton>\n      {executeFunction.elapsed !== null ? <Feedback>Execution time: {executeFunction.elapsed}ms</Feedback> : <></>}\n      {renderError()}\n      {results !== null ? <IndentFields name={\"Results\"} title={true}>\n        <ResultFields values={results} />\n      </IndentFields> : <></>}\n    </FormGroup>;\n  }\n\n  function getFunction(name: string): StructureNode | null {\n    if (structure === null) return null;\n    for (const node of structure) {\n      const functionNode = getFunctionNode(node);\n      if (functionNode !== null && functionNode.name.value === name) {\n        return node;\n      }\n    }\n    return null;\n  }\n\n  const handleChange = (event: SelectChangeEvent) => {\n    if (structure === null) return;\n    const functionNode = getFunction(event.target.value);\n    if (functionNode !== null) {\n      setCurrentStructureNode(functionNode);\n    }\n  };\n\n  function functionsMenuItems() {\n    if (structure === null) return []\n    const result: JSX.Element[] = [];\n    structure.forEach(node => {\n      const functionNode = getFunctionNode(node);\n      if (functionNode !== null) {\n        const functionName = functionNode.name.value;\n        result.push(<MenuItem key={functionName} value={functionName}>{functionName}</MenuItem>)\n      }\n    });\n    return result;\n  }\n\n  const node = currentStructureNode as StructureNode | null;\n  const functionNode = getFunctionNode(currentStructureNode);\n  const currentNodeName = functionNode !== null ? functionNode.name.value : \"\";\n  const menuItems = functionsMenuItems();\n\n  if (structure === null || menuItems.length === 0) {\n    return <Box>No functions found in file. Add <strong>function NewFunction</strong> to the code, or select a file with functions.</Box>\n  }\n\n  return (\n    <MainBox>\n      <SelectBox>\n        <FormControl fullWidth>\n          <InputLabel id=\"label-select-function\">Execute Function</InputLabel>\n          <Select\n            labelId=\"label-select-function\"\n            value={currentNodeName}\n            label=\"Execute Function\"\n            onChange={handleChange}>\n            {menuItems}\n          </Select>\n        </FormControl>\n      </SelectBox>\n      {content()}\n    </MainBox>\n  );\n}\n\nexport default RunFunction;\n","import React, {useState} from 'react';\nimport {CircularProgress, Link, styled} from \"@mui/material\";\nimport {MainContainer} from \"../../context/layoutState\";\nimport {useContext} from \"../../context/editorContext\";\nimport {isLoading} from \"../../context/loading\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport {SpecificationsLogEntry} from \"lexy/dist/specifications/specificationsLogEntry\";\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\nimport KeyboardArrowRightIcon from \"@mui/icons-material/KeyboardArrowRight\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\n\nconst LoggingList = styled(List)`\n  font-family: Menlo, Monaco, \"Courier New\", monospace;\n  font-size: 12px;\n`;\n\nconst NoPaddingListItemButton = styled(ListItemButton)`\n  padding: 2px;\n  width: 30px;\n`;\n\nconst NoPaddingListItemIcon = styled(ListItemIcon)`\n  padding: 0;\n  min-width: 30px\n`;\n\nconst LogText = styled('div')`\n  flex-grow: 1;\n`;\n\nconst Separator = styled('div')`\n  width: 12px;\n`;\n\ninterface LogItemProps {\n  entry: SpecificationsLogEntry\n}\n\nfunction LogItem(props: LogItemProps) {\n  const {entry} = props;\n  const colorStyle = entry.isError ? {color: 'red'} : entry.node !== null ? {color: 'green'} : {};\n  const {\n    executionLogging,\n    setExecutionLogging,\n    setEditorPosition,\n    setLayout,\n    currentFile\n  } = useContext();\n  const [open, setOpen] = useState(false);\n\n  const showExecutionLogging = () => {\n    if (!entry.executionLogging) return;\n    setExecutionLogging(executionLogging.setCurrent(entry.executionLogging))\n    setLayout(layout => layout.setMainContainer(MainContainer.ExecutionLogging));\n  }\n\n  const showCode = () => {\n    if (!entry.reference)  return;\n    if (currentFile !== null && !isLoading(currentFile) && currentFile.name !== entry.reference.file.fileName) {\n      //todo navigate to different file: logEntry.reference.file.fileName\n      return;\n    }\n    setEditorPosition({\n      lineNumber: entry.reference.lineNumber,\n      column: entry.reference.characterNumber,\n      source: \"state\"\n    });\n    setLayout(layout => layout.setMainContainer(MainContainer.Source));\n  }\n\n  return <>\n    <ListItem disablePadding style={colorStyle}>\n      <NoPaddingListItemButton style={{flexGrow: 0}}>\n        <NoPaddingListItemIcon onClick={() => setOpen(!open)}>\n          {entry.errors === null || entry.errors.length === 0 ? <></>\n            : open ? <KeyboardArrowDownIcon fontSize=\"small\"/> : <KeyboardArrowRightIcon fontSize=\"small\"/>}\n        </NoPaddingListItemIcon>\n      </NoPaddingListItemButton>\n      <LogText>{entry.message}</LogText>\n      {!entry.executionLogging ? <></>\n        : <Link style={{ cursor: 'pointer' }} onClick={showExecutionLogging}>view execution logging</Link>}\n      <Separator />\n      {!entry.reference ? <></>\n        : <Link style={{ cursor: 'pointer' }} onClick={showCode}>view code</Link>}\n    </ListItem>\n    {entry.errors !== null && open ? <List>\n      {entry.errors.map((log, index) => <ListItem disablePadding key={index}>{log}</ListItem>)}\n    </List> : <></>}\n  </>;\n}\n\nfunction Testing() {\n\n  const {\n    testingLogging,\n  } = useContext();\n\n  if (isLoading(testingLogging)) {\n    return <CircularProgress/>;\n  }\n\n  const logs = testingLogging.map((entry, index) => <LogItem entry={entry} key={index}/>);\n\n  return <LoggingList disablePadding>{logs}</LoggingList>;\n}\n\nexport default Testing;\n","import React from 'react';\nimport {CircularProgress, styled} from \"@mui/material\";\nimport {useContext} from \"../../context/editorContext\";\nimport {isLoading} from \"../../context/loading\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport {LogEntry} from \"lexy/dist/parser/parserLogger\";\n\nconst NoPaddingListItemButton = styled(ListItemButton)`\n  padding: 2px;\n`;\n\nconst LoggingList = styled(List)`\n  font-family: Menlo, Monaco, \"Courier New\", monospace;\n  font-size: 12px;\n`;\n\ninterface LogItemProps {\n  logEntry: LogEntry\n}\n\nfunction LogItem(props: LogItemProps) {\n\n  const {\n    setEditorPosition,\n    currentFile\n  } = useContext();\n  const {logEntry} = props;\n\n  function setPosition() {\n    if (currentFile !== null && !isLoading(currentFile) && currentFile.name !== logEntry.reference.file.fileName) {\n      //todo navigate to different file: logEntry.reference.file.fileName\n      return;\n    }\n    setEditorPosition({\n      lineNumber: logEntry.reference.lineNumber,\n      column: logEntry.reference.characterNumber,\n      source: \"state\"\n    })\n  }\n\n  return <ListItem disablePadding onClick={setPosition}>\n    <NoPaddingListItemButton style={logEntry.isError ? ({color: 'red'}) : ({})} >\n      {logEntry.message}\n    </NoPaddingListItemButton>\n  </ListItem>;\n}\n\nfunction Logging() {\n\n  const {\n    currentFileLogging,\n  } = useContext();\n\n  if (isLoading(currentFileLogging)) {\n    return <CircularProgress/>;\n  }\n\n  const sorted = currentFileLogging.sort((left, right) => left.sortIndex < right.sortIndex ? -1 : 1);\n  const logs = sorted.map((entry, index) => <LogItem logEntry={entry} key={index} /> );\n\n  return <LoggingList disablePadding>{logs}</LoggingList>;\n}\n\nexport default Logging;\n","import React from 'react';\nimport Box from \"@mui/material/Box\";\nimport {styled} from \"@mui/material/styles\";\nimport {Grid2, TextField} from \"@mui/material\";\nimport IndentFields from \"../indentFields/IndentFields\";\nimport {isValueType} from \"../../infrastructure/isValueType\";\n\nconst MainGrid = styled(Grid2)`\n  margin-top: 8px;\n  margin-bottom: 8px;\n`;\n\nconst FieldBox = styled(Box)`\n  &:not(:last-child) {\n    margin-bottom: 24px;\n  }\n`;\n\nconst ResultsTextField = styled(TextField)`\n  width: 100%;\n`;\n\ntype VariablesProps = {\n  values: any;\n};\n\nexport default function Variables(props: VariablesProps) {\n\n  function renderField(value: any, resultKey: string) {\n    if (!value || isValueType(value)) {\n      return <Grid2 size={3} key={resultKey} >\n        <FieldBox key={resultKey}>\n          <ResultsTextField disabled label={resultKey} variant=\"outlined\" value={value !== null ? value : \"\"}/>\n        </FieldBox>\n      </Grid2>;\n    } else {\n      return <Grid2 size={12} key={resultKey} >\n        <IndentFields name={resultKey}>\n          <Variables values={value}/>\n        </IndentFields>\n      </Grid2>;\n    }\n  }\n\n  const {values} = props;\n  const keys = !!values ? Object.keys(values) : null;\n  if (values === null || keys === null || keys.length === 0) {\n    return <FieldBox>No variables defined</FieldBox>;\n  }\n\n  const elements: Array<JSX.Element> = [];\n  for (const resultKey of keys) {\n    const value = values[resultKey];\n    elements.push(renderField(value, resultKey));\n  }\n\n  return <MainGrid container spacing={2}>{elements}</MainGrid>;\n}","import React from \"react\";\nimport {useContext} from \"../../context/editorContext\";\nimport {styled} from \"@mui/material\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport ListItem from \"@mui/material/ListItem\";\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\nimport KeyboardArrowRightIcon from \"@mui/icons-material/KeyboardArrowRight\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport {LogVariables} from \"lexy/dist/runTime/executionContext\";\nimport {ExecutionLogEntry} from \"lexy/dist/runTime/executionLogEntry\";\nimport Stack from \"@mui/material/Stack\";\nimport Variables from \"./Variables\";\n\nconst indentValue = 16;\n\nconst NoPaddingListItemButton = styled(ListItemButton)`\n  padding: 0;\n`;\n\nconst NoPaddingListItemIcon = styled(ListItemIcon)`\n  padding: 0;\n  min-width: 30px\n`;\n\nconst TopVariables = styled(Variables)`\n  margin-bottom: 24px\n`;\n\nconst FullWidthStack = styled(Stack)`\n  flex-grow: 1;\n`;\n\nconst LogListItem = styled(ListItem)``;\n\nconst VariablesListItem = styled(ListItem)`\n  color: darkgrey;\n`;\n\ntype TreeNodeProps = {\n  entry: ExecutionLogEntry,\n  indent: number,\n  parent: Array<string>,\n  index: number\n}\n\nexport function LogEntry(props: TreeNodeProps) {\n\n  function hasVariables(variables: LogVariables | null) {\n    return variables !== null && Object.keys(variables).length > 0;\n  }\n\n  function renderVariablesValues(variablesLeftMargin: number) {\n    return <ListItem disablePadding style={indent > 0 ? ({paddingLeft: variablesLeftMargin + 'px'}) : ({})}>\n      <FullWidthStack>\n        {!hasVariables(entry.readVariables) ? <></>\n          : <TopVariables values={entry.readVariables}/>}\n        {!hasVariables(entry.writeVariables) ? <></>\n          : <Variables values={entry.writeVariables}/>}\n      </FullWidthStack>\n    </ListItem>;\n  }\n\n  function renderVariables() {\n    if (isSystemVariables) {\n      if (!openChildren) return <></>;\n      return renderVariablesValues((indentValue * indent) + 30);\n    }\n\n    if (!showVariables) return <></>;\n    const variablesLeftMargin = (indentValue * indent) + 60;\n    return <>\n      <VariablesListItem disablePadding>\n          <NoPaddingListItemButton onClick={() => setOpenVariables(!openVariables)}\n                                   style={indent > 0 ? ({paddingLeft: ((indentValue * indent) + 30) + 'px'}) : ({})}>\n            <NoPaddingListItemIcon>\n              {openVariables ? <KeyboardArrowDownIcon fontSize=\"small\"/> : <KeyboardArrowRightIcon fontSize=\"small\"/>}\n            </NoPaddingListItemIcon>\n            Variables\n          </NoPaddingListItemButton>\n        </VariablesListItem>\n      {!openVariables ? <></> : renderVariablesValues(variablesLeftMargin)}\n    </>\n  }\n\n  function renderChildren() {\n    const children = [];\n    if (openChildren && entry.entries) {\n      for (let index = 0; index < entry.entries.length; index++) {\n        const childEntry: ExecutionLogEntry = entry.entries[index];\n        if (!!childEntry) {\n          children.push(<LogEntry entry={childEntry} indent={indent + 1} key={index} parent={path} index={index}/>);\n        }\n      }\n    }\n    return children;\n  }\n\n  const {entry, indent, parent, index} = props;\n  const path = [...parent, index.toString()];\n  const pathVariables = [...parent, index.toString(), \"var\"];\n  const {\n    executionLoggingTreeState,\n    setExecutionLoggingTreeState\n  } = useContext();\n  const openChildren = executionLoggingTreeState.isOpen(path);\n  const openVariables = executionLoggingTreeState.isOpen(pathVariables);\n  const isSystemVariables = entry.message === \"Parameters\" || entry.message === \"Results\";\n  const showVariables = hasVariables(entry.readVariables) || hasVariables(entry.writeVariables);\n  const hasChildren = entry.entries.length > 0 || (isSystemVariables && showVariables);\n  const isFunction = entry.message.startsWith(\"Execute:\");\n  const setOpenChildren = (value: boolean) => setExecutionLoggingTreeState(executionLoggingTreeState.setOpen(path, value));\n  const setOpenVariables = (value: boolean) => setExecutionLoggingTreeState(executionLoggingTreeState.setOpen(pathVariables, value));\n\n  return (isSystemVariables && !showVariables ? <></> :\n    <>\n      <LogListItem disablePadding style={isSystemVariables ? {color: 'darkgray'} : {}}>\n        <NoPaddingListItemButton onClick={() => setOpenChildren(!openChildren)}\n                                 style={indent > 0 ? ({paddingLeft: (indentValue * indent) + 'px'}) : ({})}>\n          <NoPaddingListItemIcon>\n            {!hasChildren ? <></>\n              : openChildren ? <KeyboardArrowDownIcon fontSize=\"small\"/> : <KeyboardArrowRightIcon fontSize=\"small\"/>}\n          </NoPaddingListItemIcon>\n          <ListItemText primaryTypographyProps={isFunction ? {fontWeight: 600} : {}}>{entry.message}</ListItemText>\n        </NoPaddingListItemButton>\n      </LogListItem>\n      {renderVariables()}\n      {renderChildren()}\n    </>\n  );\n}","import React, {useEffect} from 'react';\nimport {useContext} from '../../context/editorContext';\nimport List from \"@mui/material/List\";\nimport {CircularProgress} from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport {isLoading} from \"../../context/loading\";\nimport {LogEntry} from \"./LogEntry\";\n\nfunction ExecutionLogging() {\n\n  const {\n    executionLogging,\n    setExecutionLoggingTreeState,\n    currentFile\n  } = useContext();\n\n  useEffect(() => {\n    setExecutionLoggingTreeState(state => {\n      return state.reset().setOpen([\"0\"], true)\n    });\n  }, [currentFile?.identifier, setExecutionLoggingTreeState])\n\n  function content() {\n\n    if (executionLogging === null) {\n      return <Box>No execution logging.</Box>;\n    }\n\n    if (isLoading(executionLogging)) {\n      return <CircularProgress/>;\n    }\n\n    const result = [];\n    for (let index = 0 ; index < executionLogging.logging.length ; index ++) {\n      const entry = executionLogging.logging[index];\n      if (entry !== null) {\n        result.push(<LogEntry entry={entry} indent={0} key={index} parent={[]} index={index}/>);\n      }\n    }\n    return result;\n  }\n\n  return (\n    <List disablePadding>\n      {content()}\n    </List>\n  );\n}\n\nexport default ExecutionLogging;\n","import React, {useEffect} from 'react';\nimport Markdown from 'react-markdown'\nimport {useContext} from \"../../context/editorContext\";\nimport {CircularProgress} from \"@mui/material\";\nimport {isLoading} from \"../../context/loading\";\nimport remarkGfm from 'remark-gfm';\nimport {styled} from \"@mui/material/styles\";\n\nconst Outer = styled('div')`\n  padding: 4px 12px 8px 4px;\n`;\n\nconst preFix = 'https://github.com/lexy-language/lexy-language/blob/main/';\n\nexport default function ViewEditor() {\n\n  const {\n    setCurrentFile\n  } = useContext();\n\n  function navigateLink(url: string) {\n    const identifier = `Lexy|${url.substring(preFix.length).replaceAll(\"/\", \"|\")}`;\n    setCurrentFile({\n      name: identifier,\n      identifier: identifier\n    });\n  }\n\n  const {\n    currentFileCode,\n  } = useContext();\n\n  const components = {\n    a: (props: any) => {\n      return props.href.startsWith(preFix)\n        ? <a href=\"#top\" onClick={() => navigateLink(props.href)}>{props.children}</a>\n        : <a href={props.href}>{props.children}</a>\n    }\n  };\n\n  useEffect(() => {\n    const body = document.querySelector('.markdown-body') as any;\n    body?.scrollIntoView({\n      behavior: 'smooth'\n    }, 200)\n  }, [currentFileCode]);\n\n\n  if (isLoading(currentFileCode)) {\n    return <CircularProgress size={200} />;\n  }\n\n  return <Outer>\n    <Markdown className='markdown-body' components={components} remarkPlugins={[remarkGfm]}>{currentFileCode?.code}</Markdown>\n  </Outer>\n}","import React, {useEffect, useState} from 'react';\nimport Paper from '@mui/material/Paper';\nimport Grid from '@mui/material/Grid2';\nimport {styled} from '@mui/material/styles';\nimport {Button} from \"@mui/material\";\nimport {BottomContainer, LayoutState, LeftContainer, MainContainer} from '../../context/layoutState';\nimport {useContext} from '../../context/editorContext';\nimport Explorer from '../explorer/Explorer';\nimport Structure from '../structure/Structure';\nimport SourceEditor from '../sourceEditor/SourceEditor';\nimport RunFunction from '../runFunction/RunFunction';\nimport Testing from '../testing/Testing';\nimport Logging from '../logging/Logging';\nimport Box from \"@mui/material/Box\";\nimport {isLoading} from \"../../context/loading\";\nimport {count} from \"lexy/dist/infrastructure/arrayFunctions\";\nimport {SpecificationsLogEntry} from \"lexy/dist/specifications/specificationsLogEntry\";\nimport ExecutionLogging from \"../executionLogging/ExecutionLogging\";\nimport ViewEditor from \"../viewEditor/ViewEditor\";\nimport {isBrowser} from \"react-device-detect\";\n\nconst GridFullHeight = styled(Grid)`\n  height: calc(100% - 264px);\n`;\n\nconst GridItem = styled(Grid)`\n  height: 100%;\n  padding: 8px;\n`;\n\nconst ToolPanel = styled(Grid)`\n  height: 200px;\n  padding: 0 8px 8px;\n`;\n\nconst FullHeightPaper = styled(Paper)`\n  height: 100%;\n  padding: 8px;\n  overflow-y: auto;\n`;\n\nconst TopPart = styled(Box)`\n  height: calc(100% - 44px);\n  padding: 0;\n  overflow-y: auto;\n`;\n\nconst BottomPart = styled(Box)`\n  height: 44px;\n  padding: 8px 0 0;\n`;\n\nfunction OptionButtonsGroup<T>(values: {name: string, value: T}[], currentValue: T, setValue: (item: T) => void) {\n  return <BottomPart>\n    {values.map(value => <Button\n      key={value.name}\n      variant={(value.value === currentValue ? 'contained' : 'text')}\n      onClick={() => setValue(value.value)}>\n      {value.name}\n    </Button>)}\n  </BottomPart>;\n}\n\nfunction content<T>(values: {value: T, element: () => React.ReactNode}[], currentValue: T) {\n  return <TopPart>\n    {values.find(value => value.value === currentValue)?.element()}\n  </TopPart>;\n}\n\nfunction EditorPage() {\n\n  const {\n    layout,\n    setLayout,\n    testingLogging,\n    currentFileCode\n  } = useContext();\n  const [lastShowView, setLastShowView] = useState<boolean>(false);\n\n  const leftOptions = [\n    { name: 'Explorer', value: LeftContainer.Explorer, element: () => <Explorer /> },\n    { name: 'Structure', value: LeftContainer.Structure, element: () => <Structure />  },\n  ];\n\n  const mainOptions = [\n    { name: 'View', value: MainContainer.View, element: () => <ViewEditor /> },\n    { name: 'Source Code', value: MainContainer.Source, element: () => <SourceEditor /> },\n    { name: 'Execution Logging', value: MainContainer.ExecutionLogging, element: () => <ExecutionLogging /> },\n  ];\n\n  const bottomOptions = (suffix: string) => [\n    { name: 'Compilation Logging', value: BottomContainer.Logging, element: () => <Logging /> },\n    { name: 'Test Logging' + suffix, value: BottomContainer.Testing, element: () => <Testing /> },\n  ];\n\n  function getScenariosSuffix() {\n    if (!(testingLogging !== null && !isLoading(testingLogging))) {\n      return '';\n    }\n\n    const logging = testingLogging as SpecificationsLogEntry[];\n    const errors = count(logging, entry => !entry.isError && entry.node !== null);\n    const scenarios = count(logging, entry => entry.node !== null);\n\n    return ` (${errors}/${scenarios})`;\n  }\n\n  function setValue<T>(setLayoutValue: (layout: LayoutState, item: T) => LayoutState) {\n    return (value: T) => setLayout(layout => setLayoutValue(layout, value));\n  }\n\n  const showView = currentFileCode !== null && !isLoading(currentFileCode) && currentFileCode.identifier.endsWith('.md');\n  if (lastShowView !== showView) {\n    setLastShowView(showView);\n  }\n  const scenariosSuffix = getScenariosSuffix();\n  const mainOptionsFiltered = showView ? mainOptions : mainOptions.splice(1);\n  const mainContainer = showView || layout.mainContainer !== MainContainer.View ? layout.mainContainer : MainContainer.Source;\n\n  useEffect(() =>  {\n    if (showView && layout.mainContainer !== MainContainer.View) {\n      setLayout(layout => layout.setMainContainer(MainContainer.View));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [lastShowView]);\n\n  return (\n    <>\n      <GridFullHeight container style={!isBrowser ? {height: 'calc(100% - 64px)'} : {}}>\n        {isBrowser ? <GridItem size={3}>\n          <FullHeightPaper>\n            {content(leftOptions, layout.leftContainer)}\n            {OptionButtonsGroup(leftOptions, layout.leftContainer, setValue<LeftContainer>((layout, value) => layout.setLeftContainer(value)))}\n          </FullHeightPaper>\n        </GridItem> : <></>}\n        <GridItem size={!isBrowser ? 12 : 6}>\n          <FullHeightPaper>\n            {content(mainOptionsFiltered, mainContainer)}\n            {OptionButtonsGroup(mainOptionsFiltered, mainContainer, setValue<MainContainer>((layout, value) => layout.setMainContainer(value)))}\n          </FullHeightPaper>\n        </GridItem>\n        {isBrowser ? <GridItem size={3}>\n          <FullHeightPaper>\n            <TopPart>\n              <RunFunction />\n            </TopPart>\n          </FullHeightPaper>\n        </GridItem> : <></>}\n      </GridFullHeight>\n      {isBrowser ? <ToolPanel>\n        <FullHeightPaper>\n          {content(bottomOptions(scenariosSuffix), layout.bottomContainer)}\n          {OptionButtonsGroup(bottomOptions(scenariosSuffix), layout.bottomContainer, setValue<BottomContainer>((layout, value) => layout.setBottomContainer(value)))}\n        </FullHeightPaper>\n      </ToolPanel> : <></>}\n    </>\n  );\n}\n\nexport default EditorPage;"],"names":["NoPaddingListItemButton","styled","ListItemButton","_templateObject","_taggedTemplateLiteral","NoPaddingListItemIcon","ListItemIcon","_templateObject2","FolderItem","props","folder","currentFile","indent","parent","path","name","projectFilesTreeState","setProjectFilesTreeState","useContext","open","isOpen","_jsxs","_Fragment","children","_jsx","ListItem","disablePadding","style","marginLeft","onClick","setOpen","value","KeyboardArrowDownIcon","fontSize","KeyboardArrowRightIcon","FolderIcon","ListItemText","primary","folders","map","files","file","FileItem","setCurrentFile","background","paddingLeft","InsertDriveFileIcon","projectFiles","List","Box","isLoading","CircularProgress","TreeNode","event","setEditorPosition","lineNumber","node","reference","column","characterNumber","source","setLayout","layout","setMainContainer","MainContainer","Source","setCurrentStructureNode","type","setAnchorEl","currentTarget","preventDefault","handleCloseMenu","structureTreeState","setStructureTreeState","currentStructureNode","openChildren","anchorEl","React","openMenu","Boolean","menuItems","nodeType","NodeType","Function","MenuItem","handleClickMenu","PlayArrowIcon","index","length","structureNode","push","renderChildren","onContextMenu","setOpenChildren","NodeKind","Code","CodeIcon","Scenario","RuleIcon","Table","GridOnIcon","Results","Parameters","Type","ListIcon","Enum","FormatListNumberedIcon","Date","DateRangeIcon","Errors","ErrorIcon","EnumMember","Number","TagIcon","MoneyIcon","String","FormatQuoteIcon","Unknown","QuestionMarkIcon","icon","kind","Menu","onClose","MenuListProps","structure","result","content","space","charCodeAt","SourceEditor","monaco","useMonaco","editorRef","useRef","currentFileCode","setCurrentFileCode","setCurrentProject","currentFileLogging","editorPosition","editorMounted","setEditorMounted","useState","showMarkers","_editorRef$current0","current","model","getModel","markers","where","entry","isError","fileName","lineContent","getLineCount","getLineContent","getEndOfToken","message","severity","MarkerSeverity","Error","startLineNumber","startColumn","endLineNumber","endColumn","editor","setModelMarkers","useEffect","languages","register","id","_editorRef$current","_editorRef$current2","_editorRef$current3","setPosition","revealLineInCenter","focus","_editorRef$current4","_editorRef$current5","setValue","code","revealLine","_editorRef$current6","_editorRef$current7","language","identifier","endsWith","undefined","MonacoEditor","theme","onChange","second","details","state","setFile","onMount","_editorRef$current8","_editorRef$current9","updateOptions","scrollbar","horizontal","onDidChangeCursorPosition","position","tabSize","indentSize","options","minimap","enabled","wordWrap","Indent","PaddingTop","CustomTypeBox","_templateObject3","FullWidthStack","Stack","_templateObject4","IndentFields","title","Typography","variant","fontWeight","direction","ParameterTextField","TextField","ParameterSelect","Select","ParameterDatePicker","DatePicker","FieldBox","ParameterField","_parameter$variableTy","parameter","executeFunction","setExecuteFunction","append","IdentifierPath","enumValueChanged","setParameter","target","dateValueChanged","stringValueChanged","booleanValueChanged","checked","numberValueChanged","parseInt","getParameterOrDefault","getParameter","variableType","variableTypeName","VariableTypeName","PrimitiveType","primitiveType","Assert","notNull","asPrimitiveType","TypeNames","string","label","number","boolean","FormControlLabel","control","Checkbox","date","LocalizationProvider","dateAdapter","AdapterDateFns","format","renderPrimitiveType","EnumType","enumType","asEnumType","FormControl","fullWidth","InputLabel","labelId","enum","members","member","concat","renderEnumType","DeclaredType","variables","asDeclaredType","typeDefinition","ParameterFields","renderCustomType","elements","isValueType","toString","call","ResultsTextField","ResultFields","renderField","resultKey","disabled","values","keys","Object","milliseconds","end","start","laterDate","earlierDate","Decimal","MainBox","SelectBox","ExecuteButton","Button","Feedback","_templateObject5","execute","nodes","functionNode","getFunctionNode","setError","startTime","functionAndDependencies","DependencyGraphFactory","nodeAndDependencies","executable","compileNodes","getFunction","parameters","getParameters","results","run","elapsed","toNumber","setExecutionLogging","executionLogging","setCurrent","logging","setResults","error","currentNodeName","forEach","functionName","functionsMenuItems","_functionNode$paramet","getResults","FormGroup","split","LoggingList","LogText","Separator","LogItem","colorStyle","color","flexGrow","errors","Link","cursor","showExecutionLogging","ExecutionLogging","showCode","log","testingLogging","logs","logEntry","sort","left","right","sortIndex","MainGrid","Grid2","Variables","size","container","spacing","TopVariables","LogListItem","VariablesListItem","_templateObject6","LogEntry","hasVariables","renderVariablesValues","variablesLeftMargin","readVariables","writeVariables","pathVariables","executionLoggingTreeState","setExecutionLoggingTreeState","openVariables","isSystemVariables","showVariables","hasChildren","entries","isFunction","startsWith","setOpenVariables","primaryTypographyProps","renderVariables","childEntry","reset","Outer","preFix","ViewEditor","components","a","href","url","substring","replaceAll","navigateLink","body","document","querySelector","scrollIntoView","behavior","Markdown","className","remarkPlugins","remarkGfm","GridFullHeight","Grid","GridItem","ToolPanel","FullHeightPaper","Paper","TopPart","BottomPart","OptionButtonsGroup","currentValue","_values$find","find","element","lastShowView","setLastShowView","leftOptions","LeftContainer","Explorer","Structure","mainOptions","View","bottomOptions","suffix","BottomContainer","Logging","Testing","setLayoutValue","showView","scenariosSuffix","count","scenarios","getScenariosSuffix","mainOptionsFiltered","splice","mainContainer","isBrowser","height","leftContainer","setLeftContainer","RunFunction","bottomContainer","setBottomContainer"],"ignoreList":[],"sourceRoot":""}